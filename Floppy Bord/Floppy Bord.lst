mads 1.9.3
     1 				; Floppy Bord
     2 				; PAL- Version
     3 				;
     4 				; Another Bird- Conversion
     5 				;
     6 				; BF 
     7 				;
     8 				; V1.0.6 // 15.11.2014  => Changed adress space. Should now run with basic off, DOS+ DUP in RAM
     9 				;						=> No Flickering anymore! :-)
    10 				; 
    11
    12 				; ANTIC
    13
    14 = 0230			DLPTR	EQU 560	
    15 = 0200			VDLIST	EQU $200	 
    16 = D40E			NMIEN	EQU $D40E
    17 = D40A			WSYNC	EQU $D40A
    18 = D40B			VCOUNT	EQU $D40B
    19 = 0014			RTCLK	EQU $14
    20 = 022F			SDMCTL	EQU 559
    21
    22 				; FARBEN
    23
    24 = 02C4			COLPF0	EQU 708  
    25 = 02C5			COLPF1	EQU 709 
    26 = 02C6			COLPF2	EQU 710
    27 = 02C7			COLPF3	EQU 711
    28 = 02C8			COLBAK	EQU 712
    29
    30 = D016			COLPF0S	EQU $D016 
    31 = D017			COLPF1S	EQU $D017
    32 = D018			COLPF2S	EQU $D018
    33 = D019			COLPF3S	EQU $D019
    34 = D01A			COLBAKS	EQU $D01A
    35
    36 				; DISK I/O
    37
    38 = E453			DSKINV	EQU $E453  
    39 = 0302			DSKCMD	EQU $302	  
    40 = 030A			DSKAUX1	EQU $30A      
    41 = 0300			DSKDEV	EQU $300   
    42 = 0301			DSKUNIT	EQU $301	  
    43 = 0308			DSKBY	EQU $308   
    44 = 0304			DSKBUFF	EQU $304   
    45 = 0306			DSKTMOT	EQU $306 
    46
    47 				; PM GRAFIK
    48
    49 = B800			PMADR	EQU $B800 
    50 = D01D			PMCNTL	EQU $D01D 
    51
    52 = D000			HPOSP0	EQU $D000 
    53 = D001			HPOSP1	EQU $D001
    54 = D002			HPOSP2	EQU $D002
    55 = D003			HPOSP3	EQU $D003
    56
    57 = D008			SIZEP0	EQU $D008 
    58 = D009			SIZEP1	EQU $D009
    59 = D00A			SIZEP2	EQU $D00A
    60 = D00B			SIZEP3	EQU $D00B
    61
    62 = 02C0			COLPM0	EQU 704   
    63 = 02C1			COLPM1	EQU 705
    64 = 02C2			COLPM2	EQU 706
    65 = 02C3			COLPM3	EQU 707
    66
    67 = D407			PMBASE	EQU $D407
    68
    69 = D01D			GRACTL	EQU $D01D 
    70
    71 				; Zeropage
    72
    73 = 00E0			ZP		equ $e0
    74 = 00E2			zp2		equ $e2
    75 = 00E4			zp3		equ $e4
    76 = 00E6			zp4		equ $e6
    77 = 00E8			zp5		equ	$e8
    78 = 00EA			zp6		equ $ea
    79 = 00EC			zp7		equ $ec
    80 = 00EE			zp8		equ $ee
    81
    82 				; Parameter
    83
    84 = 0014			maxlin	equ $14		; # of rows of playfield
    85 = 0027			bytlin	equ $27		; byte/ row
    86 = 0006			screens	equ $06		; playfield consists of $06 screens
    87
    88 				; Keyboard
    89
    90 = D01F			CONSOL	EQU $d01f
    91
    92 				;
    93 				; Start
    94 				;
    95
    96 					org $afc8
    97 					
    98 FFFF> AFC8-B90D> 4C CF + 	jmp titelscr
    99 AFCB			kill
   100 AFCB 00				.byte $00			; Killflag. $01 means, player (bird) has died.....
   101 AFCC			wait
   102 AFCC 00				.byte $00			; Delay for srolling, the bigger, the slower
   103 AFCD			seqend
   104 AFCD 00				.byte $00			; Flag. If this equals to $01, scroll sequence has ended...
   105 AFCE			level
   106 AFCE 00				.byte $00			; Yes, it's a Level Counter
   107 				;
   108 				; Display Titel
   109 				;
   110
   111 AFCF			titelscr
   112 AFCF 20 8D B2			jsr clpm		; Clear player 0 
   113
   114 AFD2 A9 00			lda #0			; We start at level 0... sorry, actually it is level 1....
   115 AFD4 8D CE AF			sta level	
   116
   117 AFD7 A9 09			lda #9	
   118 AFD9 8D 1E D0			sta $d01e		; Clear all collision registers
   119
   120 AFDC A9 13			lda #<dltitel	; Show titel screen
   121 AFDE 8D 30 02			sta dlptr	
   122 AFE1 A9 B6			lda #>dltitel
   123 AFE3 8D 31 02			sta dlptr+1
   124
   125 AFE6 A9 44			lda #>chset		; Activate char set for graphics 0,1,2
   126 AFE8 8D F4 02			sta 756
   127 					
   128 AFEB A9 0E			lda #14			; Set colors for titel, backrground of (Atari Basic) mode 1 and 2 
   129 AFED 8D C8 02			sta colbak
   130 AFF0 A9 C8			lda #200		; Color for lower case characters (Atari Basic) mode 1 and 2
   131 AFF2 8D C5 02			sta colpf1
   132 AFF5 A9 0E			lda #14			; Background for (Atari Basic) mode 0
   133 AFF7 8D C6 02			sta colpf2
   134 AFFA A9 C4			lda #196		; Color for upper case characters (Atari Basic) mode 1 and 2
   135 AFFC 8D C4 02			sta colpf0
   136 AFFF			st
   137 AFFF AD 1F D0			lda consol		; Now wait until the start key is pressed
   138 B002 29 01			and #1
   139 B004 F0 03			beq begin
   140 B006 4C FF AF			jmp st	
   141 				;
   142 				; Start Game
   143 				;
   144
   145 B009			begin
   146 B009 A9 00			lda #0			; Screen off. It will be turned on in 'pminit'
   147 B00B 8D 2F 02			sta 559			; It is much nicer this way, so we won't notice what is happening when playfield is initialized...
   148 					
   149 B00E A9 00			lda #0			; Background color= black, we do that here, so we
   150 B010 8D C8 02			sta colbak		; don't have to take care later within dli- routine (which would complicate things...)
   151 					
   152 B013 20 53 B3			jsr screeninit	; Game- screen init (draw playfield, init antic- program)
   153 B016 20 D7 B5			jsr clscor		; Clear old score
   154 B019 20 BA B5			jsr showscor	; Show score
   155
   156 B01C A9 00			lda #0			; Bird is alive!
   157 B01E 8D CB AF			sta kill	
   158 					
   159 B021 A9 00			lda #0			; Flag: Scroll routine alters that to 1 if the entire playfield
   160 B023 8D CD AF			sta seqend		; is scrolled and has reached the right border....		
   161 B026 A9 32			lda #50			; Bird will apear at line 50 on the screen
   162 B028 8D F9 B1			sta ypos
   163
   164 B02B A9 F7			lda #<dli   	; Display- List- Interrupt on
   165 B02D 8D 00 02			sta vdlist
   166 B030 A9 B4			lda #>dli
   167 B032 8D 01 02			sta vdlist+1
   168 B035 A9 C0			lda #$C0
   169 B037 8D 0E D4			sta NMIEN
   170 					
   171 B03A A9 89			lda #<dlgame	; Show playfield		
   172 B03C 8D 30 02			sta dlptr						
   173 B03F A9 B8			lda #>dlgame
   174 B041 8D 31 02			sta dlptr+1
   175 					
   176 B044 A9 E6			lda #<message	; Show message below score, just for fun
   177 B046 8D 90 B8			sta msg+1
   178 B049 A9 B8			lda #>message
   179 B04B 8D 91 B8			sta msg+2
   180 					
   181 B04E A9 80			lda #<poem		; Re- init zp8 with startin adress of
   182 B050 85 EE			sta zp8			; text containing our poem
   183 B052 A9 48			lda #>poem
   184 B054 85 EF			sta zp8+1
   185 					
   186 B056 20 85 B1			jsr pminit		; Init sprites
   187 B059			wt
   188 B059 AD 84 02			lda 644			; Wait for trigger
   189 B05C D0 FB			bne wt
   190 					
   191 B05E A9 00			lda #0			; Init frame- counter for bird animation
   192 B060 8D F8 B1			sta frame
   193 B063 A0 FD			ldy #<movebird	; Activate deferred VBI for player (bird) movement
   194 B065 A2 B1			ldx #>movebird				
   195 B067 A9 07			lda #7			;= Deferred VBI
   196 B069 20 5C E4			jsr $e45c
   197 					
   198 B06C A9 02			lda #2			; Delay for scrolling
   199 B06E 8D CC AF			sta wait
   200 B071 A9 03			lda #3			; Color clocks for fine scroll
   201 B073 8D 17 B1			sta clocks
   202 B076 A9 B8			lda #184		; Number of bytes to be scrolled
   203 B078 8D 16 B1			sta blocks   	
   204 					
   205 B07B A0 1B			ldy #<scroll	;Scroll Routine: Immediate VBI
   206 B07D A2 B1			ldx #>scroll
   207 B07F A9 06			lda #6			;= Immediate VBI
   208 B081 20 5C E4			jsr $e45c
   209 					
   210 				;
   211 				; Main Loop
   212 				;
   213
   214 B084			main		
   215 B084 AD CD AF			lda seqend		;Scroll sequence end? 
   216 B087 F0 41			beq scrollon	;No, scroll on=> VBI remains on!
   217 					
   218 					;
   219 					; Init new playfield
   220 					;
   221 					
   222 B089 20 53 B3			jsr screeninit
   223 					
   224 B08C A9 00			lda #0			; Message=> scroll playfield from start
   225 B08E 8D CD AF			sta seqend	
   226 					
   227 B091 EE CE AF			inc level		; Next level	
   228 B094 AD CE AF			lda level
   229 B097 C9 20			cmp #32			; If = 32, we start over
   230 B099 D0 05			bne goon
   231 B09B A9 00			lda #0
   232 B09D 8D CE AF			sta level
   233 B0A0			goon	
   234 B0A0 A2 64			ldx #100
   235 B0A2			incsc
   236 B0A2 A9 01			lda #1			; Increase score!	
   237 B0A4 8D 89 B5			sta delta		; Show Score
   238 B0A7 20 8C B5			jsr score
   239 B0AA 20 BA B5			jsr showscor	
   240 B0AD 20 FE B5			jsr wtt			; Wait!	
   241 B0B0 CA				dex				; Still alive!				
   242 B0B1 D0 EF			bne incsc		; Increase score!
   243
   244 B0B3 A5 EE			lda zp8
   245 B0B5 8D 90 B8			sta msg+1
   246 B0B8 A5 EF			lda zp8+1
   247 B0BA 8D 91 B8			sta msg+2
   248 					
   249 B0BD 18				clc				; Display next line of poem
   250 B0BE A5 EE			lda zp8
   251 B0C0 69 14			adc #20
   252 B0C2 85 EE			sta zp8
   253 B0C4 A5 EF			lda zp8+1
   254 B0C6 69 00			adc #0
   255 B0C8 85 EF			sta zp8+1
   256 B0CA			scrollon					
   257 B0CA 4C 84 B0			jmp main		; Bird is alive. Repeat main loop
   258 					
   259 				;
   260 				; Empty VBI
   261 				;
   262
   263 B0CD			vbi_imm_off
   264 B0CD 4C 5F E4			jmp $e45f
   265 B0D0			vbi_deff_off
   266 B0D0 4C 62 E4			jmp $e462
   267
   268 				;
   269 				; Death Code
   270 				;
   271
   272 B0D3			death
   273 B0D3 A0 CD			ldy #<vbi_imm_off	; Bird is death!
   274 B0D5 A2 B0			ldx #>vbi_imm_off	; Stop bird movement= Bird VBI
   275 B0D7 A9 06			lda #6				; VBI is now re- routet
   276 B0D9 20 5C E4			jsr $e45c
   277 					
   278 B0DC A0 D0			ldy #<vbi_deff_off	; Same for deffered VBI
   279 B0DE A2 B0			ldx #>vbi_deff_off
   280 B0E0 A9 07			lda #7
   281 B0E2 20 5C E4			jsr $e45c
   282
   283 B0E5 A9 87			lda #%10000111	; BOOOOM- sound :-)
   284 B0E7 8D 01 D2			sta $d201		; AUDC1 => Bit 765=> Distortion Bit 012=> Volume
   285 B0EA A9 19			lda #25			; Freq.
   286 B0EC 8D 00 D2			sta $d200		; AUDF1
   287 					
   288 B0EF A2 10			ldx #16
   289 B0F1			deathsound			; Play sound
   290 B0F1 8A				txa
   291 B0F2 2D 01 D2			and $d201
   292 B0F5 8D 01 D2			sta $d201
   293 B0F8 20 FE B5			jsr wtt
   294 B0FB CA				dex
   295 B0FC D0 F3			bne deathsound
   296 					
   297 B0FE A9 00			lda #0			; Silent!
   298 B100 8D 01 D2			sta $d201	
   299 B103			gover	
   300 B103 A9 FA			lda #<m1		; Inform the player that he has just died
   301 B105 8D 90 B8			sta msg+1		; (in case he won't belive)
   302 B108 A9 B8			lda #>m1
   303 B10A 8D 91 B8			sta msg+2
   304 B10D			trig	
   305 B10D AD 84 02			lda	644			; Wait for trigger key
   306 B110 D0 FB			bne trig		; and, if predded =>
   307 B112 4C CF AF			jmp titelscr	; show titel = > this game is over!	
   308 					
   309 				;
   310 				; Do Scroll => Immidiate VBI
   311 				;
   312 				; Zero Page: zp
   313 				;			 zp2
   314 				;
   315
   316 B115			lines	
   317 B115 00				.byte 0			; Number of rows to be scrolled
   318 B116			blocks
   319 B116 00				.byte 0			; Blocks= One TV- Screen in Gr. 12 mode= 40 Bytes x 20 rows
   320 B117			clocks
   321 B117 00				.byte 0			; Finescroll, number of color clocks
   322
   323 B118 00			xr	.byte 0			; Save place for our registers
   324 B119 00			yr	.byte 0
   325 B11A 00			a	.byte 0
   326
   327 B11B			scroll
   328 B11B 8E 18 B1			stx xr			; Save registers
   329 B11E 8C 19 B1			sty yr
   330 B121 8D 1A B1			sta a		
   331 B124			s11
   332 B124 AD 17 B1			lda clocks		; Fine Scroll?
   333 B127 F0 15			beq hard		; No! Do hard scroll
   334 B129 CE 17 B1			dec clocks		; Do fine scroll	
   335 B12C AD 17 B1			lda clocks		; Colocks=3,2,1 counting down this values scrolls		
   336 B12F 8D 04 D4			sta $d404		; character to the left
   337 B132 AE 18 B1			ldx xr			; Write regsiters back
   338 B135 AC 19 B1			ldy yr	
   339 B138 AD 1A B1			lda a				
   340 B13B 4C 5F E4			jmp $e45f		; Leave VBI
   341 B13E			hard	
   342 B13E A9 03			lda #3			; Reset fine scroll register				
   343 B140 8D 04 D4			sta $d404		; after chracter was moved to it's leftmost position 
   344 B143 8D 17 B1			sta clocks		
   345 					
   346 B146 A9 14			lda #20 		; We scroll 20 rows of our playfield
   347 B148 8D 15 B1			sta lines
   348 					
   349 B14B A9 94			lda #<(z0+1)	; Store adress of ram area where we have saved our adress for screen ram
   350 B14D 85 E0			sta zp			; of line 0 of playfield (complicated? :-) Noooooooooo, just bad english :-(
   351 B14F A9 B8			lda #>(z0+1)
   352 B151 85 E1			sta zp+1
   353 B153 A0 00			ldy #0
   354 B155			s1					
   355 B155 B1 E0			lda (zp),y		; Get adress of row (Low)
   356 B157 18				clc
   357 B158 69 01			adc #1			; add => move row to the left => hardscroll
   358 B15A 91 E0			sta (zp),y				
   359 B15C C8				iny
   360 B15D B1 E0			lda (zp),y		; Get adress of row (High)
   361 B15F 69 00			adc #0			; Add contents of carry flag
   362 B161 91 E0			sta (zp),y
   363 B163 C8				iny				; Get adress of next row 
   364 B164 C8				iny				
   365 B165 CE 15 B1			dec lines		; Do we have scrolled all rows of our playfield?		
   366 B168 D0 EB			bne s1			; No!
   367 B16A CE 16 B1			dec blocks		; All sceens of our playfield scrolled?
   368 B16D D0 0A			bne out			; No!
   369 					
   370 					;
   371 					; Re- init playfield.
   372 					; => Scrolling beginns from the leftmost byte 
   373 					;
   374 					
   375 B16F A9 B8			lda #184		; Yes!
   376 B171 8D 16 B1			sta blocks		; reset # of screens/ playfield (184= 4 Screens, that is the # of bytes/ row of our playfield 
   377
   378 B174			lll01
   379 B174 A9 01			lda #1			; Inform main that scroll sequence is done, start all over 
   380 B176 8D CD AF			sta seqend		; and increase score					
   381 B179			out	
   382 B179 AE 18 B1			ldx xr
   383 B17C AC 19 B1			ldy yr
   384 B17F AD 1A B1			lda a
   385 					
   386 B182 4C 5F E4			jmp $e45f		; Leave VBI
   387
   388 				;
   389 				; Init PM- Graphics
   390 				;
   391 					
   392 B185			pminit
   393 B185 A9 B8			lda #pmadr/256	
   394 B187 8D 07 D4			sta pmbase
   395
   396 B18A A9 FF			lda #255
   397 B18C 8D C0 02			sta colpm0
   398
   399 B18F A9 CC			lda #204
   400 B191 8D C1 02			sta colpm1
   401
   402 B194 A9 D0			lda #208
   403 B196 8D C2 02			sta colpm2
   404
   405 B199 A9 D2			lda #210
   406 B19B 8D C3 02			sta colpm3
   407
   408 B19E A9 00			lda #0
   409 B1A0 8D 08 D0			sta sizep0
   410
   411 B1A3 A9 2E			lda #46
   412 B1A5 8D 2F 02			sta sdmctl
   413
   414 B1A8 A9 02			lda #2
   415 B1AA 8D 1D D0			sta gractl
   416
   417 B1AD A9 3D			lda #%00111101
   418 B1AF 8D 6F 02			sta 623
   419 					
   420 					;
   421 					; Draw borders for our
   422 					; playfield: Player 1 serves as left, player 2 as right border
   423 					;
   424
   425 B1B2 A2 FF			ldx #255
   426 B1B4 A9 FF			lda #$ff
   427 B1B6			plo1
   428 B1B6 9D 80 BA			sta pmadr+640,x
   429 B1B9 9D 00 BB			sta pmadr+768,x
   430 B1BC CA				dex
   431 B1BD D0 F7			bne plo1
   432 					
   433 B1BF A9 28			lda #40
   434 B1C1 8D 01 D0			sta hposp1
   435 B1C4 A9 D0			lda #208
   436 B1C6 8D 02 D0			sta hposp2
   437 					
   438 B1C9 A9 00			lda #0
   439 B1CB 8D C1 02			sta colpm1
   440 B1CE 8D C2 02			sta colpm2
   441 					
   442 B1D1 60				rts					
   443
   444 				;
   445 				; Movebird => Deffered VBI
   446 				;
   447 				; Zeropage: zp4
   448 				;
   449
   450 					;
   451 					; Frames for our bird
   452 					;
   453
   454 B1D2			bird
   455 B1D2 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$d2,$92,$0c,$00
   456 B1DC			bird1
   457 B1DC 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$d2,$12,$0c,$00
   458 B1E6			bird2
   459 B1E6 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$12,$12,$0c,$00
   460
   461 B1F0			framet
   462 B1F0 D2 B1 DC B1 E6 B1 + 	.word bird,bird1,bird2,bird1
   463 B1F8			frame
   464 B1F8 00				.byte 0
   465 						
   466 B1F9			ypos	
   467 B1F9 1E				.byte 30		; Birds y- pos
   468 					
   469 B1FA 00			xrr	.byte 0			; Save place for our registers
   470 B1FB 00			yrr	.byte 0
   471
   472 B1FC			waitc
   473 B1FC 01				.byte 1			; Wait- counter. 
   474
   475 B1FD			movebird
   476 B1FD 8E FA B1			stx xrr			; Save registers
   477 B200 8C FB B1			sty yrr			
   478 					
   479 B203 AD 04 D0			lda $d004		; Check collision reg. for Player 0 (our bird)
   480 B206 C9 00			cmp #0
   481 B208 F0 03			beq next33		; with background of playfield
   482 B20A 4C D3 B0			jmp death	
   483 								
   484 B20D			next33	
   485 B20D AD F8 B1			lda frame		; Get index of frame
   486 B210 0A				asl				; We are dealing with words, not bytes => multiply index by two
   487 B211 AA				tax				; to get low- and then high byte from adress table 'framet'
   488 B212 BD F0 B1			lda framet,x	; Now get adress of frame data from table
   489 B215 85 E6			sta zp4			; store in zeropage, low byte
   490 B217 E8				inx				; move to high- byte in table
   491 B218 BD F0 B1			lda framet,x	; Get high- byte and put in zero- page
   492 B21B 85 E7			sta zp4+1
   493 					
   494 B21D AE F9 B1			ldx ypos		; Get y- pos
   495 B220 A0 09			ldy #9			; Init y- reg as index for frame data
   496 B222			l12	
   497 B222 B1 E6			lda (zp4),y		; Display frame, get frame- data
   498 B224 9D 00 BA			sta pmadr+512,x	; Write in memory area for player 0
   499 B227 E8				inx					
   500 B228 88				dey				; Do so, until all 10 bytes (including the 0 at the
   501 B229 D0 F7			bne l12			; top and bottom of frame to avoid garbage after changing vertical pos of player
   502 					
   503 B22B A9 64			lda #100		; Set horiz. position, always 100 :-)
   504 B22D 8D 00 D0			sta hposp0
   505 					
   506 B230 CE FC B1			dec waitc		; Wait?
   507 B233 D0 4F			bne ee2			; <>0? => yes! => do nothing
   508
   509 B235 A9 02			lda #2			; =0 => Reset 'waitc'	and go on
   510 B237 8D FC B1			sta waitc
   511 B23A A9 00			lda #0			; Sound off
   512 B23C 8D 01 D2			sta $d201
   513 					
   514 B23F AD 84 02			lda 644			; Get trigger
   515 B242 D0 33			bne down		; Not presssed? Bird loses altitute :-)
   516
   517 B244 A9 03			lda #3			; Init Pokey
   518 B246 8D 0F D2			sta $d20f		; SKCTL
   519 B249 A9 00			lda #0	 
   520 B24B 8D 08 D2			sta $d208		; AUDCTL
   521 					
   522 B24E A9 87			lda #%10000111
   523 B250 8D 01 D2			sta $d201		; AUDC1 => Bit 765=> Distortion Bit 012=> Volume
   524 B253 A9 0F			lda #15			; Freq.
   525 B255 8D 00 D2			sta $d200		; AUDF1
   526
   527 B258 AD F8 B1			lda frame		; Trigger pressed! Already 3 frames shown?
   528 B25B C9 03			cmp #3					
   529 B25D D0 08			bne skip		; No, next frame
   530
   531 B25F A9 00			lda #0			; Yes, reset frame- counter
   532 B261 8D F8 B1			sta frame
   533 B264 4C 6A B2			jmp skip2		; Now, dont increase framecounter, skip it
   534 B267			skip	
   535 B267 EE F8 B1			inc frame
   536 B26A			skip2
   537 B26A AD F9 B1			lda ypos		; Trigger is pressed => check
   538 B26D C9 1E			cmp #30			; if max height reached
   539 B26F F0 13			beq ee2			; in that case, do nothing
   540 B271 CE F9 B1			dec ypos		; Below max heigth, decrease y- pos => move bird higher
   541 B274 4C 84 B2			jmp ee2			; skip downward movement
   542 B277			down	
   543 B277 AD F9 B1			lda ypos		; Too low?
   544 B27A C9 64			cmp #100
   545 B27C D0 03			bne e2			; No!
   546 B27E 4C D3 B0			jmp death		; Yes, dieeeeeeeeeee!
   547 B281			e2
   548 B281 EE F9 B1			inc ypos		; Trigger not pressed, move bird lower
   549 B284			ee2
   550 B284 AE FA B1			ldx xrr			; Write x- and y- reg. back
   551 B287 AC FB B1			ldy yrr		
   552 					
   553 B28A 4C 62 E4			jmp $e462		; Leave intermediate VBI
   554
   555 				;
   556 				; Clear PM- graphics => all!
   557 				;
   558
   559 B28D			clpm
   560 B28D A0 FF			ldy #255
   561 B28F			cl1
   562 B28F A9 00			lda #0
   563 B291 99 00 BA			sta pmadr+512,y	; Clear player 0 (bird)
   564 B294 99 64 BA			sta pmadr+612,y	; Clear player 1 (right border)
   565 B297 99 00 BB			sta pmadr+768,y	; Clear player 2 (left border)
   566 B29A 88				dey
   567 B29B D0 F2			bne cl1
   568 B29D 60				rts
   569
   570 				;
   571 				; Game- Screen initialization
   572 				;
   573 				; Principle of operation:
   574 				;
   575 				; +---+---+---+---+---+ 
   576 				; | 1 | 2 | 3 | 4 | 5 |   => Playfield consists of 5 screens, each 48 bytes wide
   577 				; +--+---+---+---+---+
   578 				;
   579 				; 1:Initial conditions: Screens 1 and 5 are twins, means the contain exactly the same picture
   580 				; 
   581 				; 2:Screens 2 trough 4 contain random playfield data
   582 				;
   583 				; 3:Scroll playfield until right border of 5th screen is reached
   584 				;
   585 				; 4:Erase screens 2 trough 4. The player will not notice, because we are showing 
   586 				; screen 4 at that time
   587 				;
   588 				; 5:Change pointer at screen ram to adress of screen 1, in that case - again - the player won't notice anything
   589 				; strange happening on the screen, because screen 5 - the one we have just shown - looks exactly the same
   590 				; as screen 1, the screen which apears within 1/50 sec on CRT. To fast dor our brain :-)
   591 				;
   592 				; 7:Continue with step 1
   593 				; 
   594 				; Zeropage: zp5
   595 				;			zp6
   596 				;
   597
   598 				; This tabel holds values for number of pillars and window height
   599 				; You can change the difficulty of the game..... 
   600
   601 					; Height of window in pilar, first value is for level 1, second value for....
   602
   603 B29E			wheight
   604 B29E 07 06 05 04 07 07 + 	.byte	7,6,5,4,7,7,7,7,7,7,7,7
   605 B2AA 07 06 05 07 07 07 + 	.byte	7,6,5,7,7,7,7,7,7,7,7,7
   606 B2B6 05 05 05 05 05 05 + 	.byte   5,5,5,5,5,5,4,5,5,5,6,6
   607 B2C2 05 05 05 05 05 05 + 	.byte   5,5,5,5,5,5,5,5,5,5,5,5
   608 B2CE 04 04 04 04 04 04 + 	.byte   4,4,4,4,4,4,4,4,4,4,4,4
   609 					
   610 					; ......space between pillars. Same as above
   611
   612 B2DA			dist
   613 B2DA 0A 0A 0A 0A 0A 0A + 	.byte 	10,10,10,10,10,10,10,10,10
   614 B2E3 08 08 08 08 08 08 + 	.byte	8,8,8,8,8,8,8,8,8,8,8,8
   615 B2EF 08 08 08 08 08 08 + 	.byte 	8,8,8,8,8,8,8,8,8,8,8,8
   616 B2FB 08 08 08 08 08 08 + 	.byte   8,8,8,8,8,8,8,8,8,8,8,8
   617 B307 0A 0A 0A 0A 0A 0A + 	.byte   10,10,10,10,10,10,10,10,10
   618 					
   619 B310			space	
   620 B310 08				.byte 8					; Space between pillars
   621 B311			window	
   622 B311 05				.byte 5					; Big, or small window....
   623
   624 				; Other important var's
   625
   626 B312			zeile
   627 B312 00				.byte 0
   628 B313			yp
   629 B313 00				.byte 0
   630 B314			wide 
   631 B314 00				.byte 0
   632 B315			length
   633 B315 00				.byte 0
   634 B316			col
   635 B316 00				.byte 0
   636
   637 				; Adress table
   638
   639 = 0000			dummy	equ 0						; a, well, a dummy.....
   640 					
   641 B317			adtab
   642 B317 00 88 13			.byte dummy,a(screen)			; Row 1
   643 B31A 00 7E 14			.byte dummy,a(screen+1*bytes)	; Now we see why there is this suspicous dummy,
   644 B31D 00 74 15			.byte dummy,a(screen+2*bytes)	; It is there to let 'adtab' look exactly like 
   645 B320 00 6A 16			.byte dummy,a(screen+3*bytes)	; the structure of our antic program.
   646 B323 00 60 17			.byte dummy,a(screen+4*bytes)	; In our antic programm dummy contains the 'lsm'
   647 B326 00 56 18			.byte dummy,a(screen+5*bytes)	; instruction
   648 B329 00 4C 19			.byte dummy,a(screen+6*bytes)
   649 B32C 00 42 1A			.byte dummy,a(screen+7*bytes)
   650 B32F 00 38 1B			.byte dummy,a(screen+8*bytes)
   651 B332 00 2E 1C			.byte dummy,a(screen+9*bytes)
   652 B335 00 24 1D			.byte dummy,a(screen+10*bytes)
   653 B338 00 1A 1E			.byte dummy,a(screen+11*bytes)
   654 B33B 00 10 1F			.byte dummy,a(screen+12*bytes)
   655 B33E 00 06 20			.byte dummy,a(screen+13*bytes)
   656 B341 00 FC 20			.byte dummy,a(screen+14*bytes)
   657 B344 00 F2 21			.byte dummy,a(screen+15*bytes)
   658 B347 00 E8 22			.byte dummy,a(screen+16*bytes)
   659 B34A 00 DE 23			.byte dummy,a(screen+17*bytes)
   660 B34D 00 D4 24			.byte dummy,a(screen+18*bytes)
   661 B350 00 CA 25			.byte dummy,a(screen+19*bytes)	; Row 20
   662
   663 B353			screeninit	
   664
   665 					;
   666 					; Reset Playfield= Begin scrolling at screen 1
   667 					; To do this, we change the screen- ram adresses in our display list
   668 					; line by line by replacing them with our in "adtab" saved adresses
   669 					; 
   670
   671 B353 48				pha				; Save registers
   672 B354 8A				txa
   673 B355 48				pha
   674 B356 98				tya
   675 B357 48				pha
   676
   677 B358 A2 14			ldx #20			; 20 rows
   678 B35A A0 00			ldy #0
   679 B35C			lll0
   680 B35C B9 18 B3			lda adtab+1,y	; Get adress from table
   681 B35F 99 94 B8			sta z0+1,y		; Put it into lms of antic program => low byte
   682 B362 C8				iny
   683 B363 B9 18 B3			lda adtab+1,y	; Same for high byte
   684 B366 99 94 B8			sta z0+1,y
   685 B369 C8				iny
   686 B36A C8				iny
   687 B36B CA				dex
   688 B36C D0 EE			bne lll0		; All rows done?
   689
   690 					;
   691 					; Get number of pillars (obstacles) and height of window / pillar
   692 					;
   693 					
   694 B36E AE CE AF			ldx level
   695 B371 BD 9E B2			lda wheight,x
   696 B374 8D 11 B3			sta window
   697 B377 BD DA B2			lda dist,x
   698 B37A 8D 10 B3			sta space
   699
   700 					;
   701 					; Clear screen 2,3,4
   702 					; That way the player wont't notice that anythig happens on the screen.
   703 					; Reason: Screen 5 is displayed, we don't change anything here
   704 					; All other changes happen on screens which are not displayed
   705 					;
   706 					; Screen 2 starts at x = 60 that is because we change our screns while scrolling!
   707 					; We have to hurry ahead => do changes before they apear on the visible part
   708 					; of our screen.
   709 					;
   710
   711 B37D A9 88			lda #<screen	; Pointer on screen RAM
   712 B37F 85 EA			sta zp6			; Store it in zero page
   713 B381 A9 13			lda #>screen
   714 B383 85 EB			sta zp6+1
   715 					
   716 B385 A0 00			ldy #0
   717 B387			cll1
   718 B387 A2 C0			ldx #192		; Here begins screen #5
   719 B389			cll2
   720 B389 A9 00			lda #0			; That's the char we plot= blank
   721 B38B 20 C4 B4			jsr plot		; Do plot
   722 B38E CA				dex				; Count backwards
   723 B38F E0 3C			cpx #60			; until we get to x- pos 60, that is where screen 2 starts (should be 40? :-)
   724 B391 D0 F6			bne cll2		; Next x- pos
   725 B393 C8				iny				; Next row
   726 B394 C0 15			cpy #21			; Until all 20 rows are done
   727 B396 D0 EF			bne cll1	
   728 					
   729 					;
   730 					; Draw Obstacles
   731 					;
   732 					; First thing you must remember: Screen 1 and 5 have to look the same
   733 					; if not, it is no endless ing :-) 
   734 					; Screen 1 starts at x=4 Screen 5 starts at x=188
   735 					;
   736 					
   737 B398 A2 03			ldx #3		; Draw top of screen (clouds)
   738 B39A A0 00			ldy #0
   739 B39C A9 05			lda #5
   740 B39E			lli
   741 B39E 20 C4 B4			jsr plot
   742 B3A1 E8				inx
   743 B3A2 E0 F0			cpx #240
   744 B3A4 D0 F8			bne lli
   745 					
   746 B3A6 A2 03			ldx #3
   747 B3A8 A0 01			ldy #1
   748 B3AA A9 02			lda #2
   749 B3AC			lli1
   750 B3AC 20 C4 B4			jsr plot	
   751 B3AF E8				inx			
   752 B3B0 E0 F0			cpx #240
   753 B3B2 D0 F8			bne lli1
   754 					
   755 B3B4 A2 3C			ldx #60		; Draw bottom of screen.....
   756 B3B6 A0 12			ldy #18		; mother earth :-)
   757 B3B8 A9 07			lda #7
   758 B3BA			lli2
   759 B3BA 20 C4 B4			jsr plot
   760 B3BD E8				inx
   761 B3BE E0 B9			cpx #185
   762 B3C0 D0 F8			bne lli2
   763 					
   764 					;
   765 					; Draw first Screen
   766 					; Screen 1 and 5 must look alike! So, actually we draw two
   767 					; screens - exactly the same - at two different locations
   768 					; on our playfield
   769 					;
   770
   771 B3C2 A2 18			ldx #24		; SCREEN 1
   772
   773 B3C4 A9 04			lda #4		; Pilar is 4 bytes wide
   774 B3C6 8D 14 B3			sta wide
   775 B3C9 A9 08			lda #8		; Start color. Color will vary across width
   776 B3CB 8D 16 B3			sta col		; to simulate some depth
   777 B3CE			ppp1
   778 B3CE A0 0D			ldy #13		; Start at middle of screen
   779 B3D0			ppp2
   780 B3D0 AD 16 B3			lda col		; Color
   781 B3D3 20 C4 B4			jsr plot	; Plot it
   782 B3D6 C8				iny			; until we reach bottom of playfield
   783 B3D7 C0 14			cpy #20
   784 B3D9 D0 F5			bne ppp2	
   785 B3DB E8				inx			; Repeat  
   786 B3DC EE 16 B3			inc col     ; Next color
   787 B3DF CE 14 B3			dec wide	; Drawn pilar until full width reached
   788 B3E2 D0 EA			bne ppp1
   789 					
   790 B3E4 A0 0C			ldy #12		; Draw flag pole
   791 B3E6 A2 1A			ldx #26
   792 B3E8			flag1
   793 B3E8 A9 0C			lda #12
   794 B3EA 20 C4 B4			jsr plot
   795 B3ED 88				dey
   796 B3EE C0 08			cpy #8
   797 B3F0 D0 F6			bne flag1
   798 					
   799 B3F2 A9 8D			lda #13+128	; Set flag atop
   800 B3F4 20 C4 B4			jsr plot
   801 B3F7 E8				inx 
   802 B3F8 A9 8E			lda #14+128
   803 B3FA 20 C4 B4			jsr plot
   804 					
   805 B3FD A2 D0			ldx #188+20	; SCREEN 5
   806
   807 B3FF A9 04			lda #4		; Pilar is 4 bytes wide
   808 B401 8D 14 B3			sta wide
   809 B404 A9 08			lda #8		; Start color. Color will vary across width
   810 B406 8D 16 B3			sta col		; to simulate some depth
   811 B409			ppp12
   812 B409 A0 0D			ldy #13		; Start at middle of screen
   813 B40B			ppp22
   814 B40B AD 16 B3			lda col		; Color
   815 B40E 20 C4 B4			jsr plot	; Plot it
   816 B411 C8				iny			; until we reach bottom of playfield
   817 B412 C0 14			cpy #20
   818 B414 D0 F5			bne ppp22	
   819 B416 E8				inx			; Repeat  
   820 B417 EE 16 B3			inc col     ; Next color
   821 B41A CE 14 B3			dec wide	; Drawn pilar until full width reached
   822 B41D D0 EA			bne ppp12
   823 					
   824 B41F A0 0C			ldy #12		; Draw flag pole
   825 B421 A2 D2			ldx #188+22
   826 B423			flag2
   827 B423 A9 0C			lda #12
   828 B425 20 C4 B4			jsr plot
   829 B428 88				dey
   830 B429 C0 08			cpy #8
   831 B42B D0 F6			bne flag2
   832 					
   833 B42D A9 8D			lda #13+128	; Set flag atop. +128 for inv. char= color 5
   834 B42F 20 C4 B4			jsr plot
   835 B432 E8				inx 
   836 B433 A9 8E			lda #14+128
   837 B435 20 C4 B4			jsr plot
   838 					
   839 					; Draw random screen
   840 					; x pos 60 to 144 is the area of our playfield
   841 					; we do not see, when scroling is reset and starts at screen 1 again.
   842 					;
   843 					; City Background....
   844 					
   845 B438 A2 41			ldx #65
   846 B43A			getlen
   847 B43A AD 0A D2			lda 53770
   848 B43D C9 12			cmp #18		; a>18?
   849 B43F B0 F9			bcs getlen	; yes!
   850 B441 C9 0E			cmp #14 	; no. a<14?
   851 B443 90 F5			bcc getlen  ; no!
   852 					
   853 B445 A8				tay
   854 B446 A9 06			lda #6
   855 B448			drw
   856 B448 20 C4 B4			jsr plot
   857 B44B C8				iny			
   858 B44C C0 12			cpy #18
   859 B44E D0 F8			bne drw		; Draw until we reach bottom of playfield
   860 B450 E8				inx
   861 B451 E0 B8			cpx #184	; Draw until we reach end of playfield (right border)
   862 B453 D0 E5			bne getlen	; Next  building
   863
   864 					;
   865 					; Second Part
   866 					; Draw obstacles (pilars)
   867 					;
   868
   869 B455 A2 4B			ldx #75 	; Start at x=75 (off screen) => once again. We change pur playfield
   870 								; while ing, so we have to hurry ahead ang change things before
   871 								; they apear on screen.....
   872 B457			pp0
   873 B457 A9 04			lda #4		; Each pilar is 4 bytes wide
   874 B459 8D 14 B3			sta wide
   875 B45C A9 08			lda #8		; Start color. Color will vary across width
   876 B45E 8D 16 B3			sta col		; to simulate some depth
   877 B461			pp1
   878 B461 A0 01			ldy #1		; Start at top of screen, well, almost...
   879 B463			pp2
   880 B463 AD 16 B3			lda col		; Color
   881 B466 20 C4 B4			jsr plot	; Plot it
   882 B469 C8				iny			; until we reach bottom of playfield
   883 B46A C0 14			cpy #20
   884 B46C D0 F5			bne pp2	
   885 B46E E8				inx			; Repeat  
   886 B46F EE 16 B3			inc col     ; Next color
   887 B472 CE 14 B3			dec wide	; Drawn pilar until full width reached
   888 B475 D0 EA			bne pp1
   889 B477 8A				txa			; Next pilar
   890 B478 18				clc
   891 B479 6D 10 B3			adc space	; Space between pilars
   892 								; CHANGE THIS, TO DRAW MORE OR LESS PILARS
   893 B47C AA				tax
   894 B47D E0 B8			cpx #184	; All pilars? That is the case when
   895 B47F 90 D6			bcc pp0		; xpos> 184
   896
   897 					; 
   898 					; Now we insert windows in our pilars
   899 					;
   900
   901 B481 A2 4B			ldx #75		; once again, we start off screen
   902 B483			gety			
   903 B483 AD 0A D2			lda 53770	; First= get random y- pos 
   904 B486 C9 0A			cmp #10		; a>10?
   905 B488 B0 F9			bcs gety	; yes!=> to big, get another
   906 B48A C9 02			cmp #2  	; no. a<0?
   907 B48C 90 F5			bcc gety    ; no!
   908 B48E 8D 13 B3			sta yp   	; y pos is between upper and lower border, save it!	
   909 B491			pp01
   910 B491 A9 04			lda #4		; Window has same width as pilar
   911 B493 8D 14 B3			sta wide
   912 B496			pp02
   913 B496 AD 11 B3			lda window	; Window heigth
   914 								; CHANGE THIS TO INCREASE/ DECREASE DIFFICULTY
   915 B499 8D 15 B3			sta length
   916 B49C AD 13 B3			lda yp
   917 B49F A8				tay
   918 B4A0			pp03	
   919 B4A0 A9 00			lda #0		; Color= blank space
   920 B4A2 20 C4 B4			jsr plot	; Plot it
   921 B4A5 C8				iny			
   922 B4A6 CE 15 B3			dec length	
   923 B4A9 D0 F5			bne pp03
   924 B4AB E8				inx			; Repeat until we have drawn 
   925 B4AC CE 14 B3			dec wide	; full window 
   926 B4AF D0 E5			bne pp02
   927 B4B1 8A				txa			; Next window
   928 B4B2 18				clc
   929 B4B3 6D 10 B3			adc space	; SPACE BETWEEN PILARS	
   930 B4B6 AA				tax
   931 B4B7 E0 BC			cpx #188	; All pilars? That is the case when
   932 B4B9 90 C8			bcc gety	; xpos> 188?
   933 					
   934 B4BB 68				pla			; Get registers back
   935 B4BC A8				tay
   936 B4BD 68				pla
   937 B4BE AA				tax
   938 B4BF 68				pla
   939 					
   940 B4C0 60				rts			; Return
   941
   942 				;
   943 				; Plot 
   944 				;
   945 				; Writes any character you want, at any position in screen ram
   946 				;
   947 				; x-reg	= xpos
   948 				; y-reg	= ypos
   949 				; a		= Char
   950 				;
   951 				; Zeropage: zp7
   952
   953 B4C1 00			zeichen	.byte 0
   954 B4C2 00			xr4		.byte 0
   955 B4C3 00			yr4		.byte 0
   956
   957 B4C4			plot	
   958 B4C4 8E C2 B4			stx xr4		; Save registers
   959 B4C7 8C C3 B4			sty yr4
   960 					
   961 B4CA 8D C1 B4			sta zeichen		; Save character
   962 B4CD A9 88			lda #<screen	; Init pointer at screen ram
   963 B4CF 85 EC			sta zp7		
   964 B4D1 A9 13			lda #>screen
   965 B4D3 85 ED			sta zp7+1
   966 					
   967 B4D5 C0 00			cpy #0		; ypos equals 0, that is easy, jump
   968 B4D7 F0 10			beq set		; to our set- routine, we don't have to calcualte line- adress
   969 B4D9			p1	
   970 B4D9 A5 EC			lda zp7		; Get pointer at screen ram
   971 B4DB 18				clc			; Now calculate adress of line from given y- pos
   972 B4DC 69 F6			adc #bytes	; The slow way :-)
   973 B4DE 85 EC			sta zp7				
   974 B4E0 A5 ED			lda zp7+1
   975 B4E2 69 00			adc #0
   976 B4E4 85 ED			sta zp7+1
   977 B4E6 88				dey
   978 B4E7 D0 F0			bne p1
   979 B4E9			set
   980 B4E9 8A				txa
   981 B4EA A8				tay
   982 B4EB AD C1 B4			lda zeichen
   983 B4EE 91 EC			sta (zp7),y
   984 					
   985 B4F0 AE C2 B4			ldx xr4		; Get registers back
   986 B4F3 AC C3 B4			ldy yr4
   987 					
   988 B4F6 60				rts	
   989 					
   990 				;
   991 				; DLI
   992 				;
   993
   994 B4F7			dli
   995 B4F7 48				pha			;  Save registers
   996 B4F8 8A				txa
   997 B4F9 48				pha
   998 B4FA 98				tya
   999 B4FB 48				pha
  1000 					
  1001 B4FC AD 0B D4			lda vcount
  1002 B4FF 0A				asl
  1003 B500 C9 26			cmp #38
  1004 B502 B0 21			bcs dli1	; Is electron beam at row > 38?
  1005
  1006 					;
  1007 					; Set Chset and colors for score display
  1008 					;
  1009 					
  1010 B504 A9 44			lda #>chset	; No! Electron beam is at line # below 38
  1011 B506 8D 09 D4			sta $d409	; so we are still within our score display
  1012 B509 A9 05			lda #5		; Change colors for capital charcters (basic-)mode 1 or 2 	
  1013 B50B 8D 0A D4			sta wsync
  1014 B50E 8D 16 D0			sta colpf0s					
  1015 B511 A9 14			lda #20 	; Change colors for lower case characters in (basic)mode 1,2 or 0
  1016 B513 8D 17 D0			sta colpf1s
  1017 B516 A9 74			lda #116
  1018 B518 8D 18 D0			sta colpf2s
  1019 B51B A9 9B			lda #155
  1020 B51D 8D 19 D0			sta colpf3s
  1021 B520 A9 0E			lda #14		; Bright white for the background
  1022 B522 8D 1A D0			sta colbaks 	; End of screen area for score display
  1023
  1024 B525			dli1								
  1025 B525 AD 0B D4			lda vcount	; Is electron beam at row # bigger than 38?
  1026 B528 0A				asl			; No? So we are still in area of score display
  1027 B529 C9 26			cmp #38		; 
  1028 B52B 90 50			bcc dlout	; Do nothing!
  1029
  1030 					;
  1031 					; Set chset for playfield and playfield colors
  1032 					;
  1033 												
  1034 B52D A9 48			lda #>chset12 ; Electron beam has crossed row 38 that means
  1035 B52F 8D 09 D4			sta $d409	; we are in playfild area of our screen
  1036
  1037 B532 A9 C8			lda #200	; Color for bit combination: 10
  1038 B534 8D 17 D0			sta colpf1s									
  1039 B537 8D 0A D4			sta wsync
  1040 					
  1041 B53A A9 0E			lda #14		; Color for bit combination: 11
  1042 B53C 8D 18 D0			sta colpf2s
  1043 B53F 8D 0A D4			sta wsync
  1044 					
  1045 B542 A9 0A			lda #10		; Color for bit combination: 01	
  1046 B544 8D 16 D0			sta colpf0s									
  1047 B547 8D 0A D4			sta wsync
  1048
  1049 B54A A9 18			lda #24		; Color for bit combination=color 5 bit combination 11 (reverse character)
  1050 B54C 18				clc			; The only object on screen with that color is our flag that marks
  1051 B54D 6D CE AF			adc level	; the begining of the next level. We change that color every new
  1052 B550 8D 19 D0			sta colpf3s	; level to visualize that event :-)
  1053
  1054 					; Draw sky
  1055
  1056 B553 A2 0F			ldx #15		; Draw Background
  1057 B555 A9 7F			lda #127	; Bright blue
  1058 B557			dd1
  1059 B557 8D 0A D4			sta wsync	; Wait until scanline is finished
  1060 B55A 8D 1A D0			sta colbaks ; Init background color reg.
  1061 B55D A0 4B			ldy #75		; This determins the height of each color cycle
  1062 B55F			dd2
  1063 B55F 88				dey
  1064 B560 D0 FD			bne dd2
  1065 					
  1066 B562 38				sec			; Blue get's darker
  1067 B563 E9 01			sbc #1
  1068 B565 CA				dex			; Until we reach the lower third
  1069 B566 D0 EF			bne dd1		; of our playfield
  1070
  1071 					; Draw ground
  1072
  1073 B568 A2 0F			ldx #15		; Draw ground
  1074 B56A A9 C2			lda #194	; Start with dark green
  1075 B56C			dc1
  1076 B56C 8D 0A D4			sta wsync
  1077 B56F 8D 1A D0			sta colbaks
  1078 B572 A0 13			ldy #19
  1079 B574			dc2
  1080 B574 88				dey			; Height of each color cycle
  1081 B575 D0 FD			bne dc2
  1082 B577 18				clc
  1083 B578 69 01			adc #1
  1084 B57A CA				dex
  1085 B57B D0 EF			bne dc1
  1086 B57D			dlout
  1087 B57D 68				pla			; Get registers back
  1088 B57E A8				tay
  1089 B57F 68				pla
  1090 B580 AA				tax
  1091 B581 68				pla
  1092 					
  1093 B582 40				rti
  1094 				;
  1095 				; Show score
  1096 				; 
  1097 				; Call: 
  1098 				; delta= Amount of points to be added to current score
  1099 				;
  1100
  1101 B583			points
  1102 B583 10 10 10 10 10 10		.byte "000000"
  1103 B589			delta
  1104 B589 00				.byte 0	
  1105 B58A			xr5
  1106 B58A 00				.byte 0
  1107 B58B			yr5
  1108 B58B 00				.byte 0
  1109 					
  1110 B58C			score	
  1111 B58C 8E 8A B5			stx xr5
  1112 B58F 8C 8B B5			sty yr5
  1113
  1114 B592 20 A1 B5			jsr sl0
  1115 B595 CE 89 B5			dec delta
  1116 B598 D0 F2			bne score
  1117 					
  1118 B59A AE 8A B5			ldx xr5
  1119 B59D AC 8B B5			ldy yr5
  1120 					
  1121 B5A0 60				rts
  1122
  1123 B5A1			sl0
  1124 B5A1 A2 05			ldx #5
  1125
  1126 B5A3			sl1
  1127 B5A3 BD 83 B5			lda points,x	; Get figure
  1128 B5A6 C9 19			cmp #"9"       	; Is it "9"?
  1129 B5A8 D0 09			bne sl2			; no, increase it
  1130
  1131 B5AA A9 10			lda #"0"     	; Yes! set to zero
  1132 B5AC 9D 83 B5			sta points,X	; and get
  1133 B5AF CA				dex				; next
  1134 B5B0 D0 F1			bne sl1			; figure....
  1135
  1136 B5B2 60				rts
  1137
  1138 B5B3			sl2
  1139 B5B3 18				clc
  1140 B5B4 69 01			adc #1
  1141 B5B6 9D 83 B5			sta points,X
  1142 					
  1143 B5B9 60				rts
  1144 					
  1145 				;
  1146 				; Show score
  1147 				;
  1148
  1149 B5BA			showscor
  1150 B5BA 8E 8A B5			stx xr5			; Save registers
  1151 B5BD 8C 8B B5			sty yr5
  1152 B5C0 A0 07			ldy #7			; Number of digits
  1153 B5C2 A2 00			ldx #0
  1154 B5C4			ss
  1155 B5C4 BD 83 B5			lda points,x	; Output- loop
  1156 B5C7 99 D2 B8			sta scorelin,y
  1157 B5CA E8				inx
  1158 B5CB C8				iny
  1159 B5CC E0 07			cpx #7
  1160 B5CE D0 F4			bne ss
  1161 					
  1162 B5D0 AE 8A B5			ldx xr5
  1163 B5D3 AC 8B B5			ldy yr5
  1164 					
  1165 B5D6 60				rts
  1166
  1167 				;
  1168 				; CLSCORE
  1169 				; Clear score
  1170 				;
  1171
  1172 B5D7			clscor
  1173 B5D7 A2 00			ldx #0
  1174 B5D9			cl	
  1175 B5D9 A9 10			lda #16			;=0
  1176 B5DB 9D 83 B5			sta points,X
  1177 B5DE E8				inx
  1178 B5DF E0 06			cpx #6
  1179 B5E1 D0 F6			bne cl
  1180 B5E3 60				rts
  1181 					
  1182 				;
  1183 				; Little Dirty Debugger
  1184 				; Obsolete, game runs perfectly now :-)
  1185 				; Use this to show any parameter you want't 
  1186 				; It works fine as long it's not bigger than 16......
  1187 				;
  1188
  1189 B5E4			fig
  1190 B5E4 10 11 12 13 14 15 + 	.byte "0123456789ABVDEF"
  1191 					
  1192 B5F4			debug
  1193 B5F4 AE CE AF			ldx level
  1194 B5F7 BD E4 B5			lda fig,x
  1195 B5FA 8D D2 B8			sta scorelin
  1196 B5FD 60				rts
  1197 					
  1198 				;
  1199 				; Wait
  1200 				; Sometimes our code is to fast........
  1201 				;
  1202
  1203 B5FE			wtt
  1204 B5FE 48				pha				; Save registers
  1205 B5FF 8A				txa
  1206 B600 48				pha
  1207 B601 98				tya
  1208 B602 48				pha
  1209
  1210 B603 A2 1E			ldx #30
  1211 B605			ww0	
  1212 B605 A0 C3			ldy #195
  1213 B607			ww1	
  1214 B607 88				dey
  1215 B608 D0 FD			bne ww1
  1216 B60A CA				dex
  1217 B60B D0 F8			bne ww0
  1218 					
  1219 B60D 68				pla				; Get registers back
  1220 B60E A8				tay
  1221 B60F 68				pla
  1222 B610 AA				tax
  1223 B611 68				pla
  1224 					
  1225 B612 60				rts
  1226 					
  1227 				;
  1228 				; Antic program and contents of screen RAM for
  1229 				; our titel screen
  1230 				;
  1231
  1232 				; Some useful equates ;-)
  1233
  1234 = 0002			gr0		equ $02					; Gr. 0
  1235 = 0006			gr1		equ $06					; Gr. 1
  1236 = 0007			gr2		equ $07
  1237 = 0014			gr12	equ $14					; Gr. 12, horiz. scrolling enabeled
  1238
  1239 B613			dltitel							;Titel Screen
  1240 B613 70 70 70			.byte $70,$70,$70
  1241 B616 47 31 B6			.byte $40+gr2,a(titel)
  1242 B619 06 06 06		:3	.byte gr1
  1243 B61C 70 70 70 70 70	:5	.byte 112
  1244 					
  1245 B621 02 02 02 02 02 02 + :13	.byte gr0
  1246
  1247 B62E 41 13 B6			.byte $41,a(dltitel)
  1248 B631			titel
  1249 B631 00 00 22 2F 32 25 + 	.byte "  BORED OF FLOPPY   "
  1250 B645 00 00 00 00 00 00 + 	.byte "                    "
  1251 B659 00 00 00 70 72 65 + 	.byte "   press <start>    "
  1252 B66D 00 00 00 00 00 00 + 	.byte "                    "
  1253 					
  1254 B681 00 00 00 00 00 00 + 	.byte "           RetroZock 2014               "
  1255 B6A9 00 00 00 00 00 00 + 	.byte "          www.retrozock.com             "
  1256 B6D1 00 00 00 33 6F 75 + 	.byte "   Source code available at:GitHub      "
  1257 B6F9 00 00 00 00 00 00 + 	.byte "                                        "
  1258 B721 00 00 00 00 00 00 + 	.byte "                                        "
  1259 B749 00 00 00 00 00 00 + 	.byte "                                        "
  1260 B771 00 00 00 00 00 00 + 	.byte "                                        "
  1261 B799 00 00 00 00 00 00 + 	.byte "                                        "
  1262 B7C1 00 00 00 00 00 00 + 	.byte "                                        "
  1263 B7E9 00 00 00 00 00 00 + 	.byte "                                        "
  1264 B811 00 00 00 00 00 00 + 	.byte "                                        "
  1265 B839 00 00 00 00 00 00 + 	.byte "                                        "
  1266 B861 00 00 00 00 00 00 + 	.byte "                   V 1.0.6// 15.11.2014 "	
  1267 				;	
  1268 				; Antic program for our playfield
  1269 				;
  1270
  1271 = 00F6			bytes	equ 246							; Our playfield is 249 bytes wide
  1272
  1273 B889			dlgame						 	
  1274 B889 F0				.byte 112+128						; Start of Antic programm for our playfield			
  1275 B88A 70				.byte 112
  1276 B88B 46 D2 B8			.byte $40+gr1,a(scorelin)			; Gr.1 display. Tha's where we can see our score
  1277 B88E 70				.byte 112							; and other important messages.....
  1278 B88F			msg
  1279 B88F 46 E6 B8			.byte $40+gr1,a(message)			; Message line, tell the player what's going on
  1280
  1281 B892 F0				.byte $70+128						; 8 empty lines, start display- list interrupt
  1282 					
  1283 B893 54 88 13		z0	.byte $40+gr12,a(screen)			; Playfield row 0
  1284 B896 54 7E 14		z1	.byte $40+gr12,a(screen+1*bytes) 	
  1285 B899 54 74 15		z2	.byte $40+gr12,a(screen+2*bytes) 
  1286 B89C 54 6A 16		z3	.byte $40+gr12,a(screen+3*bytes) 
  1287 B89F 54 60 17		z4	.byte $40+gr12,a(screen+4*bytes)
  1288 B8A2 54 56 18		z5	.byte $40+gr12,a(screen+5*bytes)
  1289 B8A5 54 4C 19		z6	.byte $40+gr12,a(screen+6*bytes)
  1290 B8A8 54 42 1A		z7	.byte $40+gr12,a(screen+7*bytes)
  1291 B8AB 54 38 1B		z8	.byte $40+gr12,a(screen+8*bytes)
  1292 B8AE 54 2E 1C		z9	.byte $40+gr12,a(screen+9*bytes)
  1293 B8B1 54 24 1D		z10	.byte $40+gr12,a(screen+10*bytes)
  1294 B8B4 54 1A 1E		z11	.byte $40+gr12,a(screen+11*bytes)
  1295 B8B7 54 10 1F		z12	.byte $40+gr12,a(screen+12*bytes)
  1296 B8BA 54 06 20		z13	.byte $40+gr12,a(screen+13*bytes)
  1297 B8BD 54 FC 20		z14	.byte $40+gr12,a(screen+14*bytes)
  1298 B8C0 54 F2 21		z15	.byte $40+gr12,a(screen+15*bytes)
  1299 B8C3 54 E8 22		z16	.byte $40+gr12,a(screen+16*bytes) 
  1300 B8C6 54 DE 23		z17	.byte $40+gr12,a(screen+17*bytes)
  1301 B8C9 54 D4 24		z18	.byte $40+gr12,a(screen+18*bytes)
  1302 B8CC 54 CA 25		z19	.byte $40+gr12,a(screen+19*bytes)	; Row 20
  1303
  1304 B8CF 41 89 B8			.byte $41,a(dlgame)				 	; End of display- list, start all over again....
  1305 					
  1306 B8D2			scorelin								; Contents of screen ram for status display
  1307 B8D2 73 63 6F 72 65 00 + 	.byte "score               "
  1308 B8E6			message
  1309 B8E6 26 2C 39 00 2C 29 + 	.byte "FLY LITTLE BIRD..   "
  1310 B8FA			m1
  1311 B8FA 00 00 00 00 27 21 + 	.byte "    GAME OVER       "
  1312 					
  1313 				;
  1314 				; Charset data
  1315 				;
  1316 				; For: Text (Atari Basic-) text modes 0,1,2 
  1317 				;
  1318
  1319 B90E				 org $4400
  1320 4400			chset
  1321 					;------------------
  1322 				; Dump of:	ANTIK2.FNT
  1323
  1324 4400-4800> 00 00 00 00 + .byte	$00,$00,$00,$00,$00,$00,$00,$00,$38
  1325 4409 38 38 38 38 00 38 + .byte	$38,$38,$38,$38,$00,$38,$38,$66
  1326 4411 66 66 00 00 00 00 + .byte	$66,$66,$00,$00,$00,$00,$00,$00
  1327 4419 66 FF 66 66 FF 66 + .byte	$66,$ff,$66,$66,$ff,$66,$00,$18
  1328 4421 3E 60 3C 06 7C 18 + .byte	$3e,$60,$3c,$06,$7c,$18,$00,$00
  1329 4429 66 6C 18 30 66 46 + .byte	$66,$6c,$18,$30,$66,$46,$00,$1c
  1330 4431 36 1C 38 6F 66 3B + .byte	$36,$1c,$38,$6f,$66,$3b,$00,$00
  1331 4439 18 18 18 00 00 00 + .byte	$18,$18,$18,$00,$00,$00,$00,$06
  1332 4441 0E 1C 18 18 1C 0E + .byte	$0e,$1c,$18,$18,$1c,$0e,$06,$60
  1333 4449 70 38 18 18 38 70 + .byte	$70,$38,$18,$18,$38,$70,$60,$00
  1334 4451 66 3C FF 3C 66 00 + .byte	$66,$3c,$ff,$3c,$66,$00,$00,$00
  1335 4459 18 18 7E 18 18 00 + .byte	$18,$18,$7e,$18,$18,$00,$00,$00
  1336 4461 00 00 00 00 18 18 + .byte	$00,$00,$00,$00,$18,$18,$30,$00
  1337 4469 00 00 7E 00 00 00 + .byte	$00,$00,$7e,$00,$00,$00,$00,$00
  1338 4471 00 00 00 00 18 18 + .byte	$00,$00,$00,$00,$18,$18,$00,$00
  1339 4479 06 0C 18 30 60 40 + .byte	$06,$0c,$18,$30,$60,$40,$00,$7c
  1340 4481 CE C6 C6 C6 E6 7C + .byte	$ce,$c6,$c6,$c6,$e6,$7c,$00,$38
  1341 4489 38 18 18 18 18 18 + .byte	$38,$18,$18,$18,$18,$18,$00,$7c
  1342 4491 E6 0C 18 30 60 FE + .byte	$e6,$0c,$18,$30,$60,$fe,$00,$7e
  1343 4499 0C 18 0C 06 66 3C + .byte	$0c,$18,$0c,$06,$66,$3c,$00,$0c
  1344 44A1 1C 3C 6C CC FE 0C + .byte	$1c,$3c,$6c,$cc,$fe,$0c,$00,$7e
  1345 44A9 60 7C 06 06 66 3C + .byte	$60,$7c,$06,$06,$66,$3c,$00,$7c
  1346 44B1 C6 C0 FC CE E6 7C + .byte	$c6,$c0,$fc,$ce,$e6,$7c,$00,$7e
  1347 44B9 06 0C 18 30 30 30 + .byte	$06,$0c,$18,$30,$30,$30,$00,$7c
  1348 44C1 CE E6 7C CE E6 7C + .byte	$ce,$e6,$7c,$ce,$e6,$7c,$00,$7c
  1349 44C9 CE C6 E6 7E 0C 18 + .byte	$ce,$c6,$e6,$7e,$0c,$18,$30,$00
  1350 44D1 38 38 00 00 38 38 + .byte	$38,$38,$00,$00,$38,$38,$00,$00
  1351 44D9 00 18 18 00 18 18 + .byte	$00,$18,$18,$00,$18,$18,$30,$06
  1352 44E1 0C 18 30 18 0C 06 + .byte	$0c,$18,$30,$18,$0c,$06,$00,$00
  1353 44E9 00 7E 00 00 7E 00 + .byte	$00,$7e,$00,$00,$7e,$00,$00,$60
  1354 44F1 30 18 0C 18 30 60 + .byte	$30,$18,$0c,$18,$30,$60,$00,$3c
  1355 44F9 66 66 0C 18 00 18 + .byte	$66,$66,$0c,$18,$00,$18,$00,$6a
  1356 4501 C9 00 7E 00 93 56 + .byte	$c9,$00,$7e,$00,$93,$56,$00,$7a
  1357 4509 9C 34 36 3E 66 66 + .byte	$9c,$34,$36,$3e,$66,$66,$c3,$ee
  1358 4511 73 6B 6B 7E 6B 6B + .byte	$73,$6b,$6b,$7e,$6b,$6b,$de,$3d
  1359 4519 66 D4 D0 D0 D0 E6 + .byte	$66,$d4,$d0,$d0,$d0,$e6,$7c,$ee
  1360 4521 73 6B 6B 6B 6B 63 + .byte	$73,$6b,$6b,$6b,$6b,$63,$de,$fe
  1361 4529 66 60 78 60 63 66 + .byte	$66,$60,$78,$60,$63,$66,$7c,$fe
  1362 4531 66 60 78 60 60 68 + .byte	$66,$60,$78,$60,$60,$68,$70,$3d
  1363 4539 66 D6 D0 DE D6 66 + .byte	$66,$d6,$d0,$de,$d6,$66,$3c,$c7
  1364 4541 C6 C6 CE FE E6 C6 + .byte	$c6,$c6,$ce,$fe,$e6,$c6,$ce,$34
  1365 4549 18 18 18 18 18 1C + .byte	$18,$18,$18,$18,$18,$1c,$2c,$7f
  1366 4551 16 16 56 06 DE 7C + .byte	$16,$16,$56,$06,$de,$7c,$78,$c6
  1367 4559 6D 6C 78 78 6C 6C + .byte	$6d,$6c,$78,$78,$6c,$6c,$c6,$e0
  1368 4561 60 60 60 61 66 7E + .byte	$60,$60,$60,$61,$66,$7e,$78,$c6
  1369 4569 EE FE D6 C6 C6 C6 + .byte	$ee,$fe,$d6,$c6,$c6,$c6,$c6,$c6
  1370 4571 C6 E6 F6 DE CE C6 + .byte	$c6,$e6,$f6,$de,$ce,$c6,$c6,$7d
  1371 4579 CE D6 D6 D6 D6 E6 + .byte	$ce,$d6,$d6,$d6,$d6,$e6,$7c,$fc
  1372 4581 66 6E 66 6D 60 60 + .byte	$66,$6e,$66,$6d,$60,$60,$c0,$7d
  1373 4589 E6 D6 D6 D6 D6 CE + .byte	$e6,$d6,$d6,$d6,$d6,$ce,$7f,$dd
  1374 4591 66 6E 66 7C 6C 66 + .byte	$66,$6e,$66,$7c,$6c,$66,$e3,$ba
  1375 4599 66 60 3C 06 46 66 + .byte	$66,$60,$3c,$06,$46,$66,$5c,$fe
  1376 45A1 30 68 68 62 6C 74 + .byte	$30,$68,$68,$62,$6c,$74,$3c,$e6
  1377 45A9 66 66 66 66 6E 6E + .byte	$66,$66,$66,$66,$6e,$6e,$3f,$c3
  1378 45B1 66 66 66 66 66 3D + .byte	$66,$66,$66,$66,$66,$3d,$18,$e3
  1379 45B9 C3 C3 D3 CB DF 77 + .byte	$c3,$c3,$d3,$cb,$df,$77,$62,$c0
  1380 45C1 C3 66 3C 3C 66 C3 + .byte	$c3,$66,$3c,$3c,$66,$c3,$03,$c3
  1381 45C9 66 66 3C 5A 18 18 + .byte	$66,$66,$3c,$5a,$18,$18,$18,$7e
  1382 45D1 C6 0C 38 7C 60 C3 + .byte	$c6,$0c,$38,$7c,$60,$c3,$fe,$00
  1383 45D9 1E 18 18 18 18 1E + .byte	$1e,$18,$18,$18,$18,$1e,$00,$00
  1384 45E1 40 60 30 18 0C 06 + .byte	$40,$60,$30,$18,$0c,$06,$00,$00
  1385 45E9 78 18 18 18 18 78 + .byte	$78,$18,$18,$18,$18,$78,$00,$00
  1386 45F1 08 1C 36 63 00 00 + .byte	$08,$1c,$36,$63,$00,$00,$00,$00
  1387 45F9 00 00 00 00 00 FF + .byte	$00,$00,$00,$00,$00,$ff,$00,$00
  1388 4601 36 7F 7F 3E 1C 08 + .byte	$36,$7f,$7f,$3e,$1c,$08,$00,$18
  1389 4609 18 0C 07 07 0C 18 + .byte	$18,$0c,$07,$07,$0c,$18,$18,$03
  1390 4611 03 03 03 03 03 03 + .byte	$03,$03,$03,$03,$03,$03,$03,$18
  1391 4619 18 38 F0 E0 00 00 + .byte	$18,$38,$f0,$e0,$00,$00,$00,$18
  1392 4621 18 30 E0 E0 30 18 + .byte	$18,$30,$e0,$e0,$30,$18,$18,$00
  1393 4629 00 00 C0 E0 30 18 + .byte	$00,$00,$c0,$e0,$30,$18,$18,$03
  1394 4631 07 0E 1C 38 70 E0 + .byte	$07,$0e,$1c,$38,$70,$e0,$c0,$c0
  1395 4639 E0 70 38 1C 0E 07 + .byte	$e0,$70,$38,$1c,$0e,$07,$03,$01
  1396 4641 03 07 0F 1F 3F 7F + .byte	$03,$07,$0f,$1f,$3f,$7f,$ff,$00
  1397 4649 00 00 00 0F 0F 0F + .byte	$00,$00,$00,$0f,$0f,$0f,$0f,$80
  1398 4651 C0 E0 F0 F8 FC FE + .byte	$c0,$e0,$f0,$f8,$fc,$fe,$ff,$0f
  1399 4659 0F 0F 0F 00 00 00 + .byte	$0f,$0f,$0f,$00,$00,$00,$00,$f0
  1400 4661 F0 F0 F0 00 00 00 + .byte	$f0,$f0,$f0,$00,$00,$00,$00,$ff
  1401 4669 FF 00 00 00 00 00 + .byte	$ff,$00,$00,$00,$00,$00,$00,$00
  1402 4671 00 00 00 00 00 FF + .byte	$00,$00,$00,$00,$00,$ff,$ff,$00
  1403 4679 00 00 00 F0 F0 F0 + .byte	$00,$00,$00,$f0,$f0,$f0,$f0,$00
  1404 4681 00 1C 1C 77 77 08 + .byte	$00,$1c,$1c,$77,$77,$08,$1c,$00
  1405 4689 00 00 03 07 0C 18 + .byte	$00,$00,$03,$07,$0c,$18,$18,$00
  1406 4691 00 00 FF FF 00 00 + .byte	$00,$00,$ff,$ff,$00,$00,$00,$18
  1407 4699 18 18 FF FF 18 18 + .byte	$18,$18,$ff,$ff,$18,$18,$18,$00
  1408 46A1 00 3C 7E 7E 7E 3C + .byte	$00,$3c,$7e,$7e,$7e,$3c,$00,$00
  1409 46A9 00 00 00 FF FF FF + .byte	$00,$00,$00,$ff,$ff,$ff,$ff,$c0
  1410 46B1 C0 C0 C0 C0 C0 C0 + .byte	$c0,$c0,$c0,$c0,$c0,$c0,$c0,$00
  1411 46B9 00 00 C3 E7 3C 18 + .byte	$00,$00,$c3,$e7,$3c,$18,$18,$18
  1412 46C1 18 3C E7 C3 00 00 + .byte	$18,$3c,$e7,$c3,$00,$00,$00,$f0
  1413 46C9 F0 F0 F0 F0 F0 F0 + .byte	$f0,$f0,$f0,$f0,$f0,$f0,$f0,$18
  1414 46D1 18 0C 07 03 00 00 + .byte	$18,$0c,$07,$03,$00,$00,$00,$78
  1415 46D9 60 78 60 7E 18 1E + .byte	$60,$78,$60,$7e,$18,$1e,$00,$00
  1416 46E1 18 3C 7E 18 18 18 + .byte	$18,$3c,$7e,$18,$18,$18,$00,$00
  1417 46E9 18 18 18 7E 3C 18 + .byte	$18,$18,$18,$7e,$3c,$18,$00,$00
  1418 46F1 18 30 7E 30 18 00 + .byte	$18,$30,$7e,$30,$18,$00,$00,$00
  1419 46F9 18 0C 7E 0C 18 00 + .byte	$18,$0c,$7e,$0c,$18,$00,$00,$18
  1420 4701 3C 66 C3 18 3C 66 + .byte	$3c,$66,$c3,$18,$3c,$66,$c3,$00
  1421 4709 40 3E 66 66 66 3B + .byte	$40,$3e,$66,$66,$66,$3b,$40,$30
  1422 4711 60 62 7C 66 66 7C + .byte	$60,$62,$7c,$66,$66,$7c,$02,$00
  1423 4719 40 3C 76 60 66 3C + .byte	$40,$3c,$76,$60,$66,$3c,$40,$0c
  1424 4721 06 46 3E 66 66 3A + .byte	$06,$46,$3e,$66,$66,$3a,$40,$00
  1425 4729 40 3C 66 7E 60 38 + .byte	$40,$3c,$66,$7e,$60,$38,$04,$2e
  1426 4731 18 18 18 3E 18 18 + .byte	$18,$18,$18,$3e,$18,$18,$00,$00
  1427 4739 86 7C CC CC 78 C2 + .byte	$86,$7c,$cc,$cc,$78,$c2,$7c,$c0
  1428 4741 60 62 6C 76 66 66 + .byte	$60,$62,$6c,$76,$66,$66,$00,$30
  1429 4749 00 18 0C 0C 0C 0E + .byte	$00,$18,$0c,$0c,$0c,$0e,$00,$0c
  1430 4751 00 0C 0C 0C 0C 18 + .byte	$00,$0c,$0c,$0c,$0c,$18,$38,$00
  1431 4759 C0 66 6C 78 6C E6 + .byte	$c0,$66,$6c,$78,$6c,$e6,$00,$30
  1432 4761 18 18 18 18 18 0C + .byte	$18,$18,$18,$18,$18,$0c,$00,$00
  1433 4769 C0 66 7E 7E 6A 63 + .byte	$c0,$66,$7e,$7e,$6a,$63,$00,$00
  1434 4771 E2 7C 66 66 66 63 + .byte	$e2,$7c,$66,$66,$66,$63,$00,$00
  1435 4779 40 3C 6E 66 76 3C + .byte	$40,$3c,$6e,$66,$76,$3c,$40,$00
  1436 4781 C2 7C 66 66 7C 62 + .byte	$c2,$7c,$66,$66,$7c,$62,$e0,$00
  1437 4789 40 3B 66 66 3E 46 + .byte	$40,$3b,$66,$66,$3e,$46,$07,$00
  1438 4791 E0 7C 76 60 60 60 + .byte	$e0,$7c,$76,$60,$60,$60,$00,$00
  1439 4799 40 3E 70 3C 8E 7C + .byte	$40,$3e,$70,$3c,$8e,$7c,$02,$30
  1440 47A1 30 7E 30 30 30 36 + .byte	$30,$7e,$30,$30,$30,$36,$1c,$00
  1441 47A9 01 E6 66 66 6E 3B + .byte	$01,$e6,$66,$66,$6e,$3b,$00,$00
  1442 47B1 0D E6 66 66 3C 18 + .byte	$0d,$e6,$66,$66,$3c,$18,$00,$00
  1443 47B9 00 E3 6B 7F 3E 36 + .byte	$00,$e3,$6b,$7f,$3e,$36,$00,$00
  1444 47C1 C0 66 3C 18 3C 66 + .byte	$c0,$66,$3c,$18,$3c,$66,$03,$00
  1445 47C9 00 E6 66 66 3E CC + .byte	$00,$e6,$66,$66,$3e,$cc,$78,$00
  1446 47D1 00 7E 0C 7E 30 7E + .byte	$00,$7e,$0c,$7e,$30,$7e,$00,$00
  1447 47D9 18 3C 7E 7E 18 3C + .byte	$18,$3c,$7e,$7e,$18,$3c,$00,$18
  1448 47E1 18 18 18 18 18 18 + .byte	$18,$18,$18,$18,$18,$18,$18,$00
  1449 47E9 7E 78 7C 6E 66 06 + .byte	$7e,$78,$7c,$6e,$66,$06,$00,$08
  1450 47F1 18 38 78 38 18 08 + .byte	$18,$38,$78,$38,$18,$08,$00,$00
  1451 47F9 00 00 FF 7E 3C 18 + .byte	$00,$00,$ff,$7e,$3c,$18,$00,$01
  1452 					
  1453 				;
  1454 				; Charset data
  1455 				;
  1456 				; For: Text (Atari Basic-) text modes 12 and 13 
  1457 				;
  1458 				; They are not ordered :(
  1459 				;
  1460
  1461 4801					org $4800														
  1462 						
  1463 4800			chset12
  1464 4800-4B8B> 00 00 00 00 + :8		.byte 0																; Empty						//0
  1465 4808 7F 7F 7F 1F 1F 07 +  		.byte 127,127,127,31,31,7,7,1										; Cloud tile 1, bottom left //1
  1466 4810 FF 7D 14 00 00 00 + 		.byte 255,125,20,0,0,0,0,0											; Cloud tile bottom			//2
  1467 4818 00 00 14 7D FF FF + 		.byte 0	,	0	,	20	,	125	,	255	,	255	,	255	,	255		; Cloud tile top			//3
  1468 4820 FD FD F4 F4 D0 D0 + 		.byte 253	,	253	,	244	,	244	,	208	,	208	,	64	,	64  ; Cloud tile, bottom right	//4
  1469 4828 FF FF FF FF FF FF + :8		.byte 255															; Cloud tile, solid block	//5
  1470
  1471 4830 55 55 55 55 55 55 + :8		.byte 85															; Solid black block			//6		
  1472 4838 55 55 55 55 55 65 + 		.byte 85	,	85	,	85	,	85	,	85	,	101	,	166	,	170 ; Solid black block, bottom //7
  1473
  1474 4840 BB BB BB BB BB BB + :8		.byte 187													        ; Light green block 		//8
  1475 4848 BA BA BA BA BA BA + 		.byte 186	,	186	,	186	,	186	,	186	,	186	,	186	,	186	; Not so light green block  //9
  1476 4850 AE AE AE AE AE AE + :8		.byte 174															; Solid green block			//10
  1477 4858 AB AB AB AB AB AB + :8		.byte 171															; Solid green block			//11
  1478 4860 40 40 40 40 40 40 + :8		.byte 64															; Flag pole 				//12
  1479 4868 4C 7F 7F 7F 7F 7F + 	    .byte 76	,	127	,	127	,	127	,	127	,	127	,	127	,	76  ; Flag part 	1			//13
  1480 4870 CF FF FC FC FC FC + 		.byte 207	,	255	,	252	,	252	,	252	,	252	,	255	,	207 ; Flag Part 	2			//14
  1481 4878 55 55 41 41 41 55 + 		.byte 85	,	85	,	65	,	65	,	65	,	85	,	85	,	85  ; Building part with window //15
  1482 					
  1483 				;
  1484 				; A poem
  1485 				;
  1486
  1487 4880			poem
  1488 4880 6F 68 00 68 61 76 + 	.byte "oh have i surely...."
  1489 4894 0E 0E 73 6C 69 70 + 	.byte "..slipped the bonds."
  1490 48A8 0E 0E 6F 66 00 65 + 	.byte "..of earth and...   "
  1491 48BC 64 61 6E 63 65 64 + 	.byte "danced the skies...."
  1492 48D0 6F 6E 00 6C 61 75 + 	.byte "on laughter silvered"
  1493 48E4 77 69 6E 67 73 00 + 	.byte "wings               "
  1494 48F8 73 75 6E 77 61 72 + 	.byte "sunward i climbed   "
  1495 490C 61 6E 64 00 6A 6F + 	.byte "and joined the      "	
  1496 4920 74 75 6D 62 65 6C + 	.byte "tumbeling mirth     "
  1497 4934 6F 66 00 73 75 6E + 	.byte "of sun splid clouds "
  1498 4948 61 6E 64 00 64 6F + 	.byte "and done hundred    "
  1499 495C 74 68 69 6E 67 73 + 	.byte "things you have not "
  1500 4970 64 72 65 61 6D 65 + 	.byte "dreamed of --       "
  1501 4984 77 68 65 65 6C 65 + 	.byte "wheeled and soared  "
  1502 4998 61 6E 64 00 73 77 + 	.byte "and swung high in   "
  1503 49AC 74 68 65 00 73 75 + 	.byte "the sunlit silence  "
  1504 49C0 68 6F 76 07 72 69 + 	.byte "hov'ring there      "
  1505 49D4 69 00 63 68 61 73 + 	.byte "i chased the        "
  1506 49E8 73 6F 75 74 69 6E + 	.byte "souting wind        "
  1507 49FC 61 6C 6F 6E 67 00 + 	.byte "along and flung     "
  1508 4A10 6D 79 00 65 61 67 + 	.byte "my eager craft      "
  1509 4A24 74 68 72 6F 67 68 + 	.byte "throgh footless     "
  1510 4A38 68 61 6C 6C 73 00 + 	.byte "halls of air.       "
  1511 4A4C 75 70 00 75 70 00 + 	.byte "up up the long      "
  1512 4A60 64 65 6C 69 72 69 + 	.byte "delirious burning   "
  1513 4A74 62 6C 75 65 0E 0E + 	.byte "blue........        "
  1514 4A88 69 07 76 65 00 74 + 	.byte "i've topped the     "
  1515 4A9C 77 69 6E 64 73 77 + 	.byte "windswept heights   "
  1516 4AB0 77 69 74 68 00 65 + 	.byte "with easy grace     "
  1517 4AC4 77 68 65 72 65 00 + 	.byte "where never lark or "
  1518 4AD8 65 76 65 6E 00 65 + 	.byte "even eagle flew.    "
  1519 4AEC 61 6E 64 00 77 68 + 	.byte "and while, with     "
  1520 4B00 77 69 74 68 00 73 + 	.byte "with silent lifting "
  1521 4B14 6D 69 6E 64 00 69 + 	.byte "mind i've trod the  "
  1522 4B28 68 65 69 67 68 00 + 	.byte "heigh untresspassed "
  1523 4B3C 63 61 6E 63 74 69 + 	.byte "canctity of space   "
  1524 4B50 70 75 74 00 6F 75 + 	.byte "put out my hand and "
  1525 4B64 74 6F 75 63 65 64 + 	.byte "touced the dface   "
  1526 4B78 6F 66 00 67 6F 64 + 	.byte "of god.             "    		
  1527 											
  1528 				;
  1529 				; Screen- ram of playfield
  1530 				;
  1531 4B8C						org 5000
  1532 1388-1388> 00		screen	.byte 0
  1533
  1534
  1535
  1536
  1537
  1538
  1539
  1540 					
  1541 					
  1542
