mads 1.9.3
     1 				; Floppy Bord
     2 				; PAL- Version
     3 				;
     4 				; Another Bird- Conversion
     5 				;
     6 				; BF 
     7 				;
     8 				; V1.0.6 // 15.11.2014  => Changed adress space. Should now run with basic off, DOS+ DUP in RAM
     9 				;						=> No Flickering anymore! :-)
    10 				; 
    11 				; Versioning: 	Digit 1=> when digit 2 becomes larger than 9, it is increased
    12 				;				Digit 2=> Is increased, wehn visible changes are made (e.g.new graphics)
    13 				;				Digit 3=> Is increased, wehn non visible changes are made (e.g. source code optimized)
    14 				;
    15 				; Style hint: 5 Tab's for inline comments!
    16 				;
    17
    18 				; ANTIC
    19
    20 = 0230			DLPTR	EQU 560	
    21 = 0200			VDLIST	EQU $200	 
    22 = D40E			NMIEN	EQU $D40E
    23 = D40A			WSYNC	EQU $D40A
    24 = D40B			VCOUNT	EQU $D40B
    25 = 0014			RTCLK	EQU $14
    26 = 022F			SDMCTL	EQU 559
    27
    28 				; FARBEN
    29
    30 = 02C4			COLPF0	EQU 708  
    31 = 02C5			COLPF1	EQU 709 
    32 = 02C6			COLPF2	EQU 710
    33 = 02C7			COLPF3	EQU 711
    34 = 02C8			COLBAK	EQU 712
    35
    36 = D016			COLPF0S	EQU $D016 
    37 = D017			COLPF1S	EQU $D017
    38 = D018			COLPF2S	EQU $D018
    39 = D019			COLPF3S	EQU $D019
    40 = D01A			COLBAKS	EQU $D01A
    41
    42 				; DISK I/O
    43
    44 = E453			DSKINV	EQU $E453  
    45 = 0302			DSKCMD	EQU $302	  
    46 = 030A			DSKAUX1	EQU $30A      
    47 = 0300			DSKDEV	EQU $300   
    48 = 0301			DSKUNIT	EQU $301	  
    49 = 0308			DSKBY	EQU $308   
    50 = 0304			DSKBUFF	EQU $304   
    51 = 0306			DSKTMOT	EQU $306 
    52
    53 				; PM GRAFIK
    54
    55 = B800			PMADR	EQU $B800 
    56 = D01D			PMCNTL	EQU $D01D 
    57
    58 = D000			HPOSP0	EQU $D000 
    59 = D001			HPOSP1	EQU $D001
    60 = D002			HPOSP2	EQU $D002
    61 = D003			HPOSP3	EQU $D003
    62
    63 = D008			SIZEP0	EQU $D008 
    64 = D009			SIZEP1	EQU $D009
    65 = D00A			SIZEP2	EQU $D00A
    66 = D00B			SIZEP3	EQU $D00B
    67
    68 = 02C0			COLPM0	EQU 704   
    69 = 02C1			COLPM1	EQU 705
    70 = 02C2			COLPM2	EQU 706
    71 = 02C3			COLPM3	EQU 707
    72
    73 = D407			PMBASE	EQU $D407
    74
    75 = D01D			GRACTL	EQU $D01D 
    76
    77 				; Zeropage
    78
    79 = 00E0			ZP		equ $e0
    80 = 00E2			zp2		equ $e2
    81 = 00E4			zp3		equ $e4
    82 = 00E6			zp4		equ $e6
    83 = 00E8			zp5		equ	$e8
    84 = 00EA			zp6		equ $ea
    85 = 00EC			zp7		equ $ec
    86 = 00EE			zp8		equ $ee
    87
    88 				; Parameter
    89
    90 = 0014			maxlin	equ $14		; # of rows of playfield
    91 = 0027			bytlin	equ $27		; byte/ row
    92 = 0006			screens	equ $06		; playfield consists of $06 screens
    93
    94 				; Keyboard
    95
    96 = D01F			CONSOL	EQU $d01f
    97
    98 				;
    99 				; Start
   100 				;
   101
   102 					org $afc8
   103 					
   104 FFFF> AFC8-B90D> 4C CF + 	jmp titelscr
   105 AFCB			kill
   106 AFCB 00				.byte $00			; Killflag. $01 means, player (bird) has died.....
   107 AFCC			wait
   108 AFCC 00				.byte $00			; Delay for srolling, the bigger, the slower
   109 AFCD			seqend
   110 AFCD 00				.byte $00			; Flag. If this equals to $01, scroll sequence has ended...
   111 AFCE			level
   112 AFCE 00				.byte $00			; Yes, it's a Level Counter
   113 				;
   114 				; Display Titel
   115 				;
   116
   117 AFCF			titelscr
   118 AFCF 20 8D B2			jsr clpm		; Clear player 0 
   119
   120 AFD2 A9 00			lda #0			; We start at level 0... sorry, actually it is level 1....
   121 AFD4 8D CE AF			sta level	
   122
   123 AFD7 A9 09			lda #9	
   124 AFD9 8D 1E D0			sta $d01e		; Clear all collision registers
   125
   126 AFDC A9 13			lda #<dltitel	; Show titel screen
   127 AFDE 8D 30 02			sta dlptr	
   128 AFE1 A9 B6			lda #>dltitel
   129 AFE3 8D 31 02			sta dlptr+1
   130
   131 AFE6 A9 44			lda #>chset		; Activate char set for graphics 0,1,2
   132 AFE8 8D F4 02			sta 756
   133 					
   134 AFEB A9 0E			lda #14			; Set colors for titel, backrground of (Atari Basic) mode 1 and 2 
   135 AFED 8D C8 02			sta colbak
   136 AFF0 A9 C8			lda #200		; Color for lower case characters (Atari Basic) mode 1 and 2
   137 AFF2 8D C5 02			sta colpf1
   138 AFF5 A9 0E			lda #14			; Background for (Atari Basic) mode 0
   139 AFF7 8D C6 02			sta colpf2
   140 AFFA A9 C4			lda #196		; Color for upper case characters (Atari Basic) mode 1 and 2
   141 AFFC 8D C4 02			sta colpf0
   142 AFFF			st
   143 AFFF AD 1F D0			lda consol		; Now wait until the start key is pressed
   144 B002 29 01			and #1
   145 B004 F0 03			beq begin
   146 B006 4C FF AF			jmp st	
   147 				;
   148 				; Start Game
   149 				;
   150
   151 B009			begin
   152 B009 A9 00			lda #0			; Screen off. It will be turned on in 'pminit'
   153 B00B 8D 2F 02			sta 559			; It is much nicer this way, so we won't notice what is happening when playfield is initialized...
   154 					
   155 B00E A9 00			lda #0			; Background color= black, we do that here, so we
   156 B010 8D C8 02			sta colbak		; don't have to take care later within dli- routine (which would complicate things...)
   157 					
   158 B013 20 53 B3			jsr screeninit	; Game- screen init (draw playfield, init antic- program)
   159 B016 20 D7 B5			jsr clscor		; Clear old score
   160 B019 20 BA B5			jsr showscor	; Show score
   161
   162 B01C A9 00			lda #0			; Bird is alive!
   163 B01E 8D CB AF			sta kill	
   164 					
   165 B021 A9 00			lda #0			; Flag: Scroll routine alters that to 1 if the entire playfield
   166 B023 8D CD AF			sta seqend		; is scrolled and has reached the right border....		
   167 B026 A9 32			lda #50			; Bird will apear at line 50 on the screen
   168 B028 8D F9 B1			sta ypos
   169
   170 B02B A9 F7			lda #<dli   	; Display- List- Interrupt on
   171 B02D 8D 00 02			sta vdlist
   172 B030 A9 B4			lda #>dli
   173 B032 8D 01 02			sta vdlist+1
   174 B035 A9 C0			lda #$C0
   175 B037 8D 0E D4			sta NMIEN
   176 					
   177 B03A A9 89			lda #<dlgame	; Show playfield		
   178 B03C 8D 30 02			sta dlptr						
   179 B03F A9 B8			lda #>dlgame
   180 B041 8D 31 02			sta dlptr+1
   181 					
   182 B044 A9 E6			lda #<message	; Show message below score, just for fun
   183 B046 8D 90 B8			sta msg+1
   184 B049 A9 B8			lda #>message
   185 B04B 8D 91 B8			sta msg+2
   186 					
   187 B04E A9 80			lda #<poem		; Re- init zp8 with startin adress of
   188 B050 85 EE			sta zp8			; text containing our poem
   189 B052 A9 48			lda #>poem
   190 B054 85 EF			sta zp8+1
   191 					
   192 B056 20 85 B1			jsr pminit		; Init sprites
   193 B059			wt
   194 B059 AD 84 02			lda 644			; Wait for trigger
   195 B05C D0 FB			bne wt
   196 					
   197 B05E A9 00			lda #0			; Init frame- counter for bird animation
   198 B060 8D F8 B1			sta frame
   199 B063 A0 FD			ldy #<movebird	; Activate deffered VBI for player (bird) movement
   200 B065 A2 B1			ldx #>movebird				
   201 B067 A9 07			lda #7
   202 B069 20 5C E4			jsr $e45c
   203 					
   204 B06C A9 02			lda #2			; Delay for scrolling
   205 B06E 8D CC AF			sta wait
   206 B071 A9 03			lda #3			; Color clocks for fine scroll
   207 B073 8D 17 B1			sta clocks
   208 B076 A9 B8			lda #184		; Number of bytes to be scrolled
   209 B078 8D 16 B1			sta blocks   	
   210 					
   211 B07B A0 1B			ldy #<scroll	;Scroll Routine: Immediate VBI
   212 B07D A2 B1			ldx #>scroll
   213 B07F A9 06			lda #6
   214 B081 20 5C E4			jsr $e45c
   215 					
   216 				;
   217 				; Main Loop
   218 				;
   219
   220 B084			main		
   221 B084 AD CD AF			lda seqend		;Scroll sequence end? 
   222 B087 F0 41			beq scrollon	;No, scroll on=> VBI remains on!
   223 					
   224 					;
   225 					; Init new playfield
   226 					;
   227 					
   228 B089 20 53 B3			jsr screeninit
   229 					
   230 B08C A9 00			lda #0			; Message=> scroll playfield from start
   231 B08E 8D CD AF			sta seqend	
   232 					
   233 B091 EE CE AF			inc level		; Next level	
   234 B094 AD CE AF			lda level
   235 B097 C9 20			cmp #32			; If = 32, we start over
   236 B099 D0 05			bne goon
   237 B09B A9 00			lda #0
   238 B09D 8D CE AF			sta level
   239 B0A0			goon	
   240 B0A0 A2 64			ldx #100
   241 B0A2			incsc
   242 B0A2 A9 01			lda #1			; Increase score!	
   243 B0A4 8D 89 B5			sta delta		; Show Score
   244 B0A7 20 8C B5			jsr score
   245 B0AA 20 BA B5			jsr showscor	
   246 B0AD 20 FE B5			jsr wtt			; Wait!	
   247 B0B0 CA				dex				; Still alive!				
   248 B0B1 D0 EF			bne incsc		; Increase score!
   249
   250 B0B3 A5 EE			lda zp8
   251 B0B5 8D 90 B8			sta msg+1
   252 B0B8 A5 EF			lda zp8+1
   253 B0BA 8D 91 B8			sta msg+2
   254 					
   255 B0BD 18				clc				; Display next line of poem
   256 B0BE A5 EE			lda zp8
   257 B0C0 69 14			adc #20
   258 B0C2 85 EE			sta zp8
   259 B0C4 A5 EF			lda zp8+1
   260 B0C6 69 00			adc #0
   261 B0C8 85 EF			sta zp8+1
   262 B0CA			scrollon					
   263 B0CA 4C 84 B0			jmp main		; Bird is alive. Repeat main loop
   264 					
   265 				;
   266 				; Empty VBI
   267 				;
   268
   269 B0CD			vbi_imm_off
   270 B0CD 4C 5F E4			jmp $e45f
   271 B0D0			vbi_deff_off
   272 B0D0 4C 62 E4			jmp $e462
   273
   274 				;
   275 				; Death Code
   276 				;
   277
   278 B0D3			death
   279 B0D3 A0 CD			ldy #<vbi_imm_off	; Bird is death!
   280 B0D5 A2 B0			ldx #>vbi_imm_off	; Stop bird movement= Bird VBI
   281 B0D7 A9 06			lda #6				; VBI is now re- routet
   282 B0D9 20 5C E4			jsr $e45c
   283 					
   284 B0DC A0 D0			ldy #<vbi_deff_off	; Same for deffered VBI
   285 B0DE A2 B0			ldx #>vbi_deff_off
   286 B0E0 A9 07			lda #7
   287 B0E2 20 5C E4			jsr $e45c
   288
   289 B0E5 A9 87			lda #%10000111	; BOOOOM- sound :-)
   290 B0E7 8D 01 D2			sta $d201		; AUDC1 => Bit 765=> Distortion Bit 012=> Volume
   291 B0EA A9 19			lda #25			; Freq.
   292 B0EC 8D 00 D2			sta $d200		; AUDF1
   293 					
   294 B0EF A2 10			ldx #16
   295 B0F1			deathsound			; Play sound
   296 B0F1 8A				txa
   297 B0F2 2D 01 D2			and $d201
   298 B0F5 8D 01 D2			sta $d201
   299 B0F8 20 FE B5			jsr wtt
   300 B0FB CA				dex
   301 B0FC D0 F3			bne deathsound
   302 					
   303 B0FE A9 00			lda #0			; Silent!
   304 B100 8D 01 D2			sta $d201	
   305 B103			gover	
   306 B103 A9 FA			lda #<m1		; Inform the player that he has just died
   307 B105 8D 90 B8			sta msg+1		; (in case he won't belive)
   308 B108 A9 B8			lda #>m1
   309 B10A 8D 91 B8			sta msg+2
   310 B10D			trig	
   311 B10D AD 84 02			lda	644			; Wait for trigger key
   312 B110 D0 FB			bne trig		; and, if predded =>
   313 B112 4C CF AF			jmp titelscr	; show titel = > this game is over!	
   314 					
   315 				;
   316 				; Do Scroll => Immidiate VBI
   317 				;
   318 				; Zero Page: zp
   319 				;			 zp2
   320 				;
   321
   322 B115			lines	
   323 B115 00				.byte 0			; Number of rows to be scrolled
   324 B116			blocks
   325 B116 00				.byte 0			; Blocks= One TV- Screen in Gr. 12 mode= 40 Bytes x 20 rows
   326 B117			clocks
   327 B117 00				.byte 0			; Finescroll, number of color clocks
   328
   329 B118 00			xr	.byte 0			; Save place for our registers
   330 B119 00			yr	.byte 0
   331 B11A 00			a	.byte 0
   332
   333 B11B			scroll
   334 B11B 8E 18 B1			stx xr			; Save registers
   335 B11E 8C 19 B1			sty yr
   336 B121 8D 1A B1			sta a		
   337 B124			s11
   338 B124 AD 17 B1			lda clocks		; Fine Scroll?
   339 B127 F0 15			beq hard		; No! Do hard scroll
   340 B129 CE 17 B1			dec clocks		; Do fine scroll	
   341 B12C AD 17 B1			lda clocks		; Colocks=3,2,1 counting down this values scrolls		
   342 B12F 8D 04 D4			sta $d404		; character to the left
   343 B132 AE 18 B1			ldx xr			; Write regsiters back
   344 B135 AC 19 B1			ldy yr	
   345 B138 AD 1A B1			lda a				
   346 B13B 4C 5F E4			jmp $e45f		; Leave VBI
   347 B13E			hard	
   348 B13E A9 03			lda #3			; Reset fine scroll register				
   349 B140 8D 04 D4			sta $d404		; after chracter was moved to it's leftmost position 
   350 B143 8D 17 B1			sta clocks		
   351 					
   352 B146 A9 14			lda #20 		; We scroll 20 rows of our playfield
   353 B148 8D 15 B1			sta lines
   354 					
   355 B14B A9 94			lda #<(z0+1)	; Store adress of ram area where we have saved our adress for screen ram
   356 B14D 85 E0			sta zp			; of line 0 of playfield (complicated? :-) Noooooooooo, just bad english :-(
   357 B14F A9 B8			lda #>(z0+1)
   358 B151 85 E1			sta zp+1
   359 B153 A0 00			ldy #0
   360 B155			s1					
   361 B155 B1 E0			lda (zp),y		; Get adress of row (Low)
   362 B157 18				clc
   363 B158 69 01			adc #1			; add => move row to the left => hardscroll
   364 B15A 91 E0			sta (zp),y				
   365 B15C C8				iny
   366 B15D B1 E0			lda (zp),y		; Get adress of row (High)
   367 B15F 69 00			adc #0			; Add contents of carry flag
   368 B161 91 E0			sta (zp),y
   369 B163 C8				iny				; Get adress of next row 
   370 B164 C8				iny				
   371 B165 CE 15 B1			dec lines		; Do we have scrolled all rows of our playfield?		
   372 B168 D0 EB			bne s1			; No!
   373 B16A CE 16 B1			dec blocks		; All sceens of our playfield scrolled?
   374 B16D D0 0A			bne out			; No!
   375 					
   376 					;
   377 					; Re- init playfield.
   378 					; => Scrolling beginns from the leftmost byte 
   379 					;
   380 					
   381 B16F A9 B8			lda #184		; Yes!
   382 B171 8D 16 B1			sta blocks		; reset # of screens/ playfield (184= 4 Screens, that is the # of bytes/ row of our playfield 
   383
   384 B174			lll01
   385 B174 A9 01			lda #1			; Inform main that scroll sequence is done, start all over 
   386 B176 8D CD AF			sta seqend		; and increase score					
   387 B179			out	
   388 B179 AE 18 B1			ldx xr
   389 B17C AC 19 B1			ldy yr
   390 B17F AD 1A B1			lda a
   391 					
   392 B182 4C 5F E4			jmp $e45f		; Leave VBI
   393
   394 				;
   395 				; Init PM- Graphics
   396 				;
   397 					
   398 B185			pminit
   399 B185 A9 B8			lda #pmadr/256	
   400 B187 8D 07 D4			sta pmbase
   401
   402 B18A A9 FF			lda #255
   403 B18C 8D C0 02			sta colpm0
   404
   405 B18F A9 CC			lda #204
   406 B191 8D C1 02			sta colpm1
   407
   408 B194 A9 D0			lda #208
   409 B196 8D C2 02			sta colpm2
   410
   411 B199 A9 D2			lda #210
   412 B19B 8D C3 02			sta colpm3
   413
   414 B19E A9 00			lda #0
   415 B1A0 8D 08 D0			sta sizep0
   416
   417 B1A3 A9 2E			lda #46
   418 B1A5 8D 2F 02			sta sdmctl
   419
   420 B1A8 A9 02			lda #2
   421 B1AA 8D 1D D0			sta gractl
   422
   423 B1AD A9 3D			lda #%00111101
   424 B1AF 8D 6F 02			sta 623
   425 					
   426 					;
   427 					; Draw borders for our
   428 					; playfield: Player 1 serves as left, player 2 as right border
   429 					;
   430
   431 B1B2 A2 FF			ldx #255
   432 B1B4 A9 FF			lda #$ff
   433 B1B6			plo1
   434 B1B6 9D 80 BA			sta pmadr+640,x
   435 B1B9 9D 00 BB			sta pmadr+768,x
   436 B1BC CA				dex
   437 B1BD D0 F7			bne plo1
   438 					
   439 B1BF A9 28			lda #40
   440 B1C1 8D 01 D0			sta hposp1
   441 B1C4 A9 D0			lda #208
   442 B1C6 8D 02 D0			sta hposp2
   443 					
   444 B1C9 A9 00			lda #0
   445 B1CB 8D C1 02			sta colpm1
   446 B1CE 8D C2 02			sta colpm2
   447 					
   448 B1D1 60				rts					
   449
   450 				;
   451 				; Movebird => Deffered VBI
   452 				;
   453 				; Zeropage: zp4
   454 				;
   455
   456 					;
   457 					; Frames for our bird
   458 					;
   459
   460 B1D2			bird
   461 B1D2 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$d2,$92,$0c,$00
   462 B1DC			bird1
   463 B1DC 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$d2,$12,$0c,$00
   464 B1E6			bird2
   465 B1E6 00 00 7C 42 B7 E7 + 	.byte $00,$00,$7c,$42,$b7,$e7,$12,$12,$0c,$00
   466
   467 B1F0			framet
   468 B1F0 D2 B1 DC B1 E6 B1 + 	.word bird,bird1,bird2,bird1
   469 B1F8			frame
   470 B1F8 00				.byte 0
   471 						
   472 B1F9			ypos	
   473 B1F9 1E				.byte 30		; Birds y- pos
   474 					
   475 B1FA 00			xrr	.byte 0			; Save place for our registers
   476 B1FB 00			yrr	.byte 0
   477
   478 B1FC			waitc
   479 B1FC 01				.byte 1			; Wait- counter. 
   480
   481 B1FD			movebird
   482 B1FD 8E FA B1			stx xrr			; Save registers
   483 B200 8C FB B1			sty yrr			
   484 					
   485 B203 AD 04 D0			lda $d004		; Check collision reg. for Player 0 (our bird)
   486 B206 C9 00			cmp #0
   487 B208 F0 03			beq next33		; with background of playfield
   488 B20A 4C D3 B0			jmp death	
   489 								
   490 B20D			next33	
   491 B20D AD F8 B1			lda frame		; Get index of frame
   492 B210 0A				asl				; We are dealing with words, not bytes => multiply index by two
   493 B211 AA				tax				; to get low- and then high byte from adress table 'framet'
   494 B212 BD F0 B1			lda framet,x	; Now get adress of frame data from table
   495 B215 85 E6			sta zp4			; store in zeropage, low byte
   496 B217 E8				inx				; move to high- byte in table
   497 B218 BD F0 B1			lda framet,x	; Get high- byte and put in zero- page
   498 B21B 85 E7			sta zp4+1
   499 					
   500 B21D AE F9 B1			ldx ypos		; Get y- pos
   501 B220 A0 09			ldy #9			; Init y- reg as index for frame data
   502 B222			l12	
   503 B222 B1 E6			lda (zp4),y		; Display frame, get frame- data
   504 B224 9D 00 BA			sta pmadr+512,x	; Write in memory area for player 0
   505 B227 E8				inx					
   506 B228 88				dey				; Do so, until all 10 bytes (including the 0 at the
   507 B229 D0 F7			bne l12			; top and bottom of frame to avoid garbage after changing vertical pos of player
   508 					
   509 B22B A9 64			lda #100		; Set horiz. position, always 100 :-)
   510 B22D 8D 00 D0			sta hposp0
   511 					
   512 B230 CE FC B1			dec waitc		; Wait?
   513 B233 D0 4F			bne ee2			; <>0? => yes! => do nothing
   514
   515 B235 A9 02			lda #2			; =0 => Reset 'waitc'	and go on
   516 B237 8D FC B1			sta waitc
   517 B23A A9 00			lda #0			; Sound off
   518 B23C 8D 01 D2			sta $d201
   519 					
   520 B23F AD 84 02			lda 644			; Get trigger
   521 B242 D0 33			bne down		; Not presssed? Bird loses altitute :-)
   522
   523 B244 A9 03			lda #3			; Init Pokey
   524 B246 8D 0F D2			sta $d20f		; SKCTL
   525 B249 A9 00			lda #0	 
   526 B24B 8D 08 D2			sta $d208		; AUDCTL
   527 					
   528 B24E A9 87			lda #%10000111
   529 B250 8D 01 D2			sta $d201		; AUDC1 => Bit 765=> Distortion Bit 012=> Volume
   530 B253 A9 0F			lda #15			; Freq.
   531 B255 8D 00 D2			sta $d200		; AUDF1
   532
   533 B258 AD F8 B1			lda frame		; Trigger pressed! Already 3 frames shown?
   534 B25B C9 03			cmp #3					
   535 B25D D0 08			bne skip		; No, next frame
   536
   537 B25F A9 00			lda #0			; Yes, reset frame- counter
   538 B261 8D F8 B1			sta frame
   539 B264 4C 6A B2			jmp skip2		; Now, dont increase framecounter, skip it
   540 B267			skip	
   541 B267 EE F8 B1			inc frame
   542 B26A			skip2
   543 B26A AD F9 B1			lda ypos		; Trigger is pressed => check
   544 B26D C9 1E			cmp #30			; if max height reached
   545 B26F F0 13			beq ee2			; in that case, do nothing
   546 B271 CE F9 B1			dec ypos		; Below max heigth, decrease y- pos => move bird higher
   547 B274 4C 84 B2			jmp ee2			; skip downward movement
   548 B277			down	
   549 B277 AD F9 B1			lda ypos		; Too low?
   550 B27A C9 64			cmp #100
   551 B27C D0 03			bne e2			; No!
   552 B27E 4C D3 B0			jmp death		; Yes, dieeeeeeeeeee!
   553 B281			e2
   554 B281 EE F9 B1			inc ypos		; Trigger not pressed, move bird lower
   555 B284			ee2
   556 B284 AE FA B1			ldx xrr			; Write x- and y- reg. back
   557 B287 AC FB B1			ldy yrr		
   558 					
   559 B28A 4C 62 E4			jmp $e462		; Leave intermediate VBI
   560
   561 				;
   562 				; Clear PM- graphics => all!
   563 				;
   564
   565 B28D			clpm
   566 B28D A0 FF			ldy #255
   567 B28F			cl1
   568 B28F A9 00			lda #0
   569 B291 99 00 BA			sta pmadr+512,y	; Clear player 0 (bird)
   570 B294 99 64 BA			sta pmadr+612,y	; Clear player 1 (right border)
   571 B297 99 00 BB			sta pmadr+768,y	; Clear player 2 (left border)
   572 B29A 88				dey
   573 B29B D0 F2			bne cl1
   574 B29D 60				rts
   575
   576 				;
   577 				; Game- Screen initialization
   578 				;
   579 				; Principle of operation:
   580 				;
   581 				; +---+---+---+---+---+ 
   582 				; | 1 | 2 | 3 | 4 | 5 |   => Playfield consists of 5 screens, each 48 bytes wide
   583 				; +--+---+---+---+---+
   584 				;
   585 				; 1:Initial conditions: Screens 1 and 5 are twins, means the contain exactly the same picture
   586 				; 
   587 				; 2:Screens 2 trough 4 contain random playfield data
   588 				;
   589 				; 3:Scroll playfield until right border of 5th screen is reached
   590 				;
   591 				; 4:Erase screens 2 trough 4. The player will not notice, because we are showing 
   592 				; screen 4 at that time
   593 				;
   594 				; 5:Change pointer at screen ram to adress of screen 1, in that case - again - the player won't notice anything
   595 				; strange happening on the screen, because screen 5 - the one we have just shown - looks exactly the same
   596 				; as screen 1, the screen which apears within 1/50 sec on CRT. To fast dor our brain :-)
   597 				;
   598 				; 7:Continue with step 1
   599 				; 
   600 				; Zeropage: zp5
   601 				;			zp6
   602 				;
   603
   604 				; This tabel holds values for number of pillars and window height
   605 				; You can change the difficulty of the game..... 
   606
   607 					; Height of window in pilar, first value is for level 1, second value for....
   608
   609 B29E			wheight
   610 B29E 07 06 05 04 07 07 + 	.byte	7,6,5,4,7,7,7,7,7,7,7,7
   611 B2AA 07 06 05 07 07 07 + 	.byte	7,6,5,7,7,7,7,7,7,7,7,7
   612 B2B6 05 05 05 05 05 05 + 	.byte   5,5,5,5,5,5,4,5,5,5,6,6
   613 B2C2 05 05 05 05 05 05 + 	.byte   5,5,5,5,5,5,5,5,5,5,5,5
   614 B2CE 04 04 04 04 04 04 + 	.byte   4,4,4,4,4,4,4,4,4,4,4,4
   615 					
   616 					; ......space between pillars. Same as above
   617
   618 B2DA			dist
   619 B2DA 0A 0A 0A 0A 0A 0A + 	.byte 	10,10,10,10,10,10,10,10,10
   620 B2E3 08 08 08 08 08 08 + 	.byte	8,8,8,8,8,8,8,8,8,8,8,8
   621 B2EF 08 08 08 08 08 08 + 	.byte 	8,8,8,8,8,8,8,8,8,8,8,8
   622 B2FB 08 08 08 08 08 08 + 	.byte   8,8,8,8,8,8,8,8,8,8,8,8
   623 B307 0A 0A 0A 0A 0A 0A + 	.byte   10,10,10,10,10,10,10,10,10
   624 					
   625 B310			space	
   626 B310 08				.byte 8					; Space between pillars
   627 B311			window	
   628 B311 05				.byte 5					; Big, or small window....
   629
   630 				; Other important var's
   631
   632 B312			zeile
   633 B312 00				.byte 0
   634 B313			yp
   635 B313 00				.byte 0
   636 B314			wide 
   637 B314 00				.byte 0
   638 B315			length
   639 B315 00				.byte 0
   640 B316			col
   641 B316 00				.byte 0
   642
   643 				; Adress table
   644
   645 = 0000			dummy	equ 0						; a, well, a dummy.....
   646 					
   647 B317			adtab
   648 B317 00 88 13			.byte dummy,a(screen)			; Row 1
   649 B31A 00 7E 14			.byte dummy,a(screen+1*bytes)	; Now we see why there is this suspicous dummy,
   650 B31D 00 74 15			.byte dummy,a(screen+2*bytes)	; It is there to let 'adtab' look exactly like 
   651 B320 00 6A 16			.byte dummy,a(screen+3*bytes)	; the structure of our antic program.
   652 B323 00 60 17			.byte dummy,a(screen+4*bytes)	; In our antic programm dummy contains the 'lsm'
   653 B326 00 56 18			.byte dummy,a(screen+5*bytes)	; instruction
   654 B329 00 4C 19			.byte dummy,a(screen+6*bytes)
   655 B32C 00 42 1A			.byte dummy,a(screen+7*bytes)
   656 B32F 00 38 1B			.byte dummy,a(screen+8*bytes)
   657 B332 00 2E 1C			.byte dummy,a(screen+9*bytes)
   658 B335 00 24 1D			.byte dummy,a(screen+10*bytes)
   659 B338 00 1A 1E			.byte dummy,a(screen+11*bytes)
   660 B33B 00 10 1F			.byte dummy,a(screen+12*bytes)
   661 B33E 00 06 20			.byte dummy,a(screen+13*bytes)
   662 B341 00 FC 20			.byte dummy,a(screen+14*bytes)
   663 B344 00 F2 21			.byte dummy,a(screen+15*bytes)
   664 B347 00 E8 22			.byte dummy,a(screen+16*bytes)
   665 B34A 00 DE 23			.byte dummy,a(screen+17*bytes)
   666 B34D 00 D4 24			.byte dummy,a(screen+18*bytes)
   667 B350 00 CA 25			.byte dummy,a(screen+19*bytes)	; Row 20
   668
   669 B353			screeninit	
   670
   671 					;
   672 					; Reset Playfield= Begin scrolling at screen 1
   673 					; To do this, we change the screen- ram adresses in our display list
   674 					; line by line by replacing them with our in "adtab" saved adresses
   675 					; 
   676
   677 B353 48				pha				; Save registers
   678 B354 8A				txa
   679 B355 48				pha
   680 B356 98				tya
   681 B357 48				pha
   682
   683 B358 A2 14			ldx #20			; 20 rows
   684 B35A A0 00			ldy #0
   685 B35C			lll0
   686 B35C B9 18 B3			lda adtab+1,y	; Get adress from table
   687 B35F 99 94 B8			sta z0+1,y		; Put it into lms of antic program => low byte
   688 B362 C8				iny
   689 B363 B9 18 B3			lda adtab+1,y	; Same for high byte
   690 B366 99 94 B8			sta z0+1,y
   691 B369 C8				iny
   692 B36A C8				iny
   693 B36B CA				dex
   694 B36C D0 EE			bne lll0		; All rows done?
   695
   696 					;
   697 					; Get number of pillars (obstacles) and height of window / pillar
   698 					;
   699 					
   700 B36E AE CE AF			ldx level
   701 B371 BD 9E B2			lda wheight,x
   702 B374 8D 11 B3			sta window
   703 B377 BD DA B2			lda dist,x
   704 B37A 8D 10 B3			sta space
   705
   706 					;
   707 					; Clear screen 2,3,4
   708 					; That way the player wont't notice that anythig happens on the screen.
   709 					; Reason: Screen 5 is displayed, we don't change anything here
   710 					; All other changes happen on screens which are not displayed
   711 					;
   712 					; Screen 2 starts at x = 60 that is because we change our screns while scrolling!
   713 					; We have to hurry ahead => do changes before they apear on the visible part
   714 					; of our screen.
   715 					;
   716
   717 B37D A9 88			lda #<screen	; Pointer on screen RAM
   718 B37F 85 EA			sta zp6			; Store it in zero page
   719 B381 A9 13			lda #>screen
   720 B383 85 EB			sta zp6+1
   721 					
   722 B385 A0 00			ldy #0
   723 B387			cll1
   724 B387 A2 C0			ldx #192		; Here begins screen #5
   725 B389			cll2
   726 B389 A9 00			lda #0			; That's the char we plot= blank
   727 B38B 20 C4 B4			jsr plot		; Do plot
   728 B38E CA				dex				; Count backwards
   729 B38F E0 3C			cpx #60			; until we get to x- pos 60, that is where screen 2 starts (should be 40? :-)
   730 B391 D0 F6			bne cll2		; Next x- pos
   731 B393 C8				iny				; Next row
   732 B394 C0 15			cpy #21			; Until all 20 rows are done
   733 B396 D0 EF			bne cll1	
   734 					
   735 					;
   736 					; Draw Obstacles
   737 					;
   738 					; First thing you must remember: Screen 1 and 5 have to look the same
   739 					; if not, it is no endless ing :-) 
   740 					; Screen 1 starts at x=4 Screen 5 starts at x=188
   741 					;
   742 					
   743 B398 A2 03			ldx #3		; Draw top of screen (clouds)
   744 B39A A0 00			ldy #0
   745 B39C A9 05			lda #5
   746 B39E			lli
   747 B39E 20 C4 B4			jsr plot
   748 B3A1 E8				inx
   749 B3A2 E0 F0			cpx #240
   750 B3A4 D0 F8			bne lli
   751 					
   752 B3A6 A2 03			ldx #3
   753 B3A8 A0 01			ldy #1
   754 B3AA A9 02			lda #2
   755 B3AC			lli1
   756 B3AC 20 C4 B4			jsr plot	
   757 B3AF E8				inx			
   758 B3B0 E0 F0			cpx #240
   759 B3B2 D0 F8			bne lli1
   760 					
   761 B3B4 A2 3C			ldx #60		; Draw bottom of screen.....
   762 B3B6 A0 12			ldy #18		; mother earth :-)
   763 B3B8 A9 07			lda #7
   764 B3BA			lli2
   765 B3BA 20 C4 B4			jsr plot
   766 B3BD E8				inx
   767 B3BE E0 B9			cpx #185
   768 B3C0 D0 F8			bne lli2
   769 					
   770 					;
   771 					; Draw first Screen
   772 					; Screen 1 and 5 must look alike! So, actually we draw two
   773 					; screens - exactly the same - at two different locations
   774 					; on our playfield
   775 					;
   776
   777 B3C2 A2 18			ldx #24		; SCREEN 1
   778
   779 B3C4 A9 04			lda #4		; Pilar is 4 bytes wide
   780 B3C6 8D 14 B3			sta wide
   781 B3C9 A9 08			lda #8		; Start color. Color will vary across width
   782 B3CB 8D 16 B3			sta col		; to simulate some depth
   783 B3CE			ppp1
   784 B3CE A0 0D			ldy #13		; Start at middle of screen
   785 B3D0			ppp2
   786 B3D0 AD 16 B3			lda col		; Color
   787 B3D3 20 C4 B4			jsr plot	; Plot it
   788 B3D6 C8				iny			; until we reach bottom of playfield
   789 B3D7 C0 14			cpy #20
   790 B3D9 D0 F5			bne ppp2	
   791 B3DB E8				inx			; Repeat  
   792 B3DC EE 16 B3			inc col     ; Next color
   793 B3DF CE 14 B3			dec wide	; Drawn pilar until full width reached
   794 B3E2 D0 EA			bne ppp1
   795 					
   796 B3E4 A0 0C			ldy #12		; Draw flag pole
   797 B3E6 A2 1A			ldx #26
   798 B3E8			flag1
   799 B3E8 A9 0C			lda #12
   800 B3EA 20 C4 B4			jsr plot
   801 B3ED 88				dey
   802 B3EE C0 08			cpy #8
   803 B3F0 D0 F6			bne flag1
   804 					
   805 B3F2 A9 8D			lda #13+128	; Set flag atop
   806 B3F4 20 C4 B4			jsr plot
   807 B3F7 E8				inx 
   808 B3F8 A9 8E			lda #14+128
   809 B3FA 20 C4 B4			jsr plot
   810 					
   811 B3FD A2 D0			ldx #188+20	; SCREEN 5
   812
   813 B3FF A9 04			lda #4		; Pilar is 4 bytes wide
   814 B401 8D 14 B3			sta wide
   815 B404 A9 08			lda #8		; Start color. Color will vary across width
   816 B406 8D 16 B3			sta col		; to simulate some depth
   817 B409			ppp12
   818 B409 A0 0D			ldy #13		; Start at middle of screen
   819 B40B			ppp22
   820 B40B AD 16 B3			lda col		; Color
   821 B40E 20 C4 B4			jsr plot	; Plot it
   822 B411 C8				iny			; until we reach bottom of playfield
   823 B412 C0 14			cpy #20
   824 B414 D0 F5			bne ppp22	
   825 B416 E8				inx			; Repeat  
   826 B417 EE 16 B3			inc col     ; Next color
   827 B41A CE 14 B3			dec wide	; Drawn pilar until full width reached
   828 B41D D0 EA			bne ppp12
   829 					
   830 B41F A0 0C			ldy #12		; Draw flag pole
   831 B421 A2 D2			ldx #188+22
   832 B423			flag2
   833 B423 A9 0C			lda #12
   834 B425 20 C4 B4			jsr plot
   835 B428 88				dey
   836 B429 C0 08			cpy #8
   837 B42B D0 F6			bne flag2
   838 					
   839 B42D A9 8D			lda #13+128	; Set flag atop. +128 for inv. char= color 5
   840 B42F 20 C4 B4			jsr plot
   841 B432 E8				inx 
   842 B433 A9 8E			lda #14+128
   843 B435 20 C4 B4			jsr plot
   844 					
   845 					; Draw random screen
   846 					; x pos 60 to 144 is the area of our playfield
   847 					; we do not see, when scroling is reset and starts at screen 1 again.
   848 					;
   849 					; City Background....
   850 					
   851 B438 A2 41			ldx #65
   852 B43A			getlen
   853 B43A AD 0A D2			lda 53770
   854 B43D C9 12			cmp #18		; a>18?
   855 B43F B0 F9			bcs getlen	; yes!
   856 B441 C9 0E			cmp #14 	; no. a<14?
   857 B443 90 F5			bcc getlen  ; no!
   858 					
   859 B445 A8				tay
   860 B446 A9 06			lda #6
   861 B448			drw
   862 B448 20 C4 B4			jsr plot
   863 B44B C8				iny			
   864 B44C C0 12			cpy #18
   865 B44E D0 F8			bne drw		; Draw until we reach bottom of playfield
   866 B450 E8				inx
   867 B451 E0 B8			cpx #184	; Draw until we reach end of playfield (right border)
   868 B453 D0 E5			bne getlen	; Next  building
   869
   870 					;
   871 					; Second Part
   872 					; Draw obstacles (pilars)
   873 					;
   874
   875 B455 A2 4B			ldx #75 	; Start at x=75 (off screen) => once again. We change pur playfield
   876 								; while ing, so we have to hurry ahead ang change things before
   877 								; they apear on screen.....
   878 B457			pp0
   879 B457 A9 04			lda #4		; Each pilar is 4 bytes wide
   880 B459 8D 14 B3			sta wide
   881 B45C A9 08			lda #8		; Start color. Color will vary across width
   882 B45E 8D 16 B3			sta col		; to simulate some depth
   883 B461			pp1
   884 B461 A0 01			ldy #1		; Start at top of screen, well, almost...
   885 B463			pp2
   886 B463 AD 16 B3			lda col		; Color
   887 B466 20 C4 B4			jsr plot	; Plot it
   888 B469 C8				iny			; until we reach bottom of playfield
   889 B46A C0 14			cpy #20
   890 B46C D0 F5			bne pp2	
   891 B46E E8				inx			; Repeat  
   892 B46F EE 16 B3			inc col     ; Next color
   893 B472 CE 14 B3			dec wide	; Drawn pilar until full width reached
   894 B475 D0 EA			bne pp1
   895 B477 8A				txa			; Next pilar
   896 B478 18				clc
   897 B479 6D 10 B3			adc space	; Space between pilars
   898 								; CHANGE THIS, TO DRAW MORE OR LESS PILARS
   899 B47C AA				tax
   900 B47D E0 B8			cpx #184	; All pilars? That is the case when
   901 B47F 90 D6			bcc pp0		; xpos> 184
   902
   903 					; 
   904 					; Now we insert windows in our pilars
   905 					;
   906
   907 B481 A2 4B			ldx #75		; once again, we start off screen
   908 B483			gety			
   909 B483 AD 0A D2			lda 53770	; First= get random y- pos 
   910 B486 C9 0A			cmp #10		; a>10?
   911 B488 B0 F9			bcs gety	; yes!=> to big, get another
   912 B48A C9 02			cmp #2  	; no. a<0?
   913 B48C 90 F5			bcc gety    ; no!
   914 B48E 8D 13 B3			sta yp   	; y pos is between upper and lower border, save it!	
   915 B491			pp01
   916 B491 A9 04			lda #4		; Window has same width as pilar
   917 B493 8D 14 B3			sta wide
   918 B496			pp02
   919 B496 AD 11 B3			lda window	; Window heigth
   920 								; CHANGE THIS TO INCREASE/ DECREASE DIFFICULTY
   921 B499 8D 15 B3			sta length
   922 B49C AD 13 B3			lda yp
   923 B49F A8				tay
   924 B4A0			pp03	
   925 B4A0 A9 00			lda #0		; Color= blank space
   926 B4A2 20 C4 B4			jsr plot	; Plot it
   927 B4A5 C8				iny			
   928 B4A6 CE 15 B3			dec length	
   929 B4A9 D0 F5			bne pp03
   930 B4AB E8				inx			; Repeat until we have drawn 
   931 B4AC CE 14 B3			dec wide	; full window 
   932 B4AF D0 E5			bne pp02
   933 B4B1 8A				txa			; Next window
   934 B4B2 18				clc
   935 B4B3 6D 10 B3			adc space	; SPACE BETWEEN PILARS	
   936 B4B6 AA				tax
   937 B4B7 E0 BC			cpx #188	; All pilars? That is the case when
   938 B4B9 90 C8			bcc gety	; xpos> 188?
   939 					
   940 B4BB 68				pla			; Get registers back
   941 B4BC A8				tay
   942 B4BD 68				pla
   943 B4BE AA				tax
   944 B4BF 68				pla
   945 					
   946 B4C0 60				rts			; Return
   947
   948 				;
   949 				; Plot 
   950 				;
   951 				; Writes any character you want, at any position in screen ram
   952 				;
   953 				; x-reg	= xpos
   954 				; y-reg	= ypos
   955 				; a		= Char
   956 				;
   957 				; Zeropage: zp7
   958
   959 B4C1 00			zeichen	.byte 0
   960 B4C2 00			xr4		.byte 0
   961 B4C3 00			yr4		.byte 0
   962
   963 B4C4			plot	
   964 B4C4 8E C2 B4			stx xr4		; Save registers
   965 B4C7 8C C3 B4			sty yr4
   966 					
   967 B4CA 8D C1 B4			sta zeichen		; Save character
   968 B4CD A9 88			lda #<screen	; Init pointer at screen ram
   969 B4CF 85 EC			sta zp7		
   970 B4D1 A9 13			lda #>screen
   971 B4D3 85 ED			sta zp7+1
   972 					
   973 B4D5 C0 00			cpy #0		; ypos equals 0, that is easy, jump
   974 B4D7 F0 10			beq set		; to our set- routine, we don't have to calcualte line- adress
   975 B4D9			p1	
   976 B4D9 A5 EC			lda zp7		; Get pointer at screen ram
   977 B4DB 18				clc			; Now calculate adress of line from given y- pos
   978 B4DC 69 F6			adc #bytes	; The slow way :-)
   979 B4DE 85 EC			sta zp7				
   980 B4E0 A5 ED			lda zp7+1
   981 B4E2 69 00			adc #0
   982 B4E4 85 ED			sta zp7+1
   983 B4E6 88				dey
   984 B4E7 D0 F0			bne p1
   985 B4E9			set
   986 B4E9 8A				txa
   987 B4EA A8				tay
   988 B4EB AD C1 B4			lda zeichen
   989 B4EE 91 EC			sta (zp7),y
   990 					
   991 B4F0 AE C2 B4			ldx xr4		; Get registers back
   992 B4F3 AC C3 B4			ldy yr4
   993 					
   994 B4F6 60				rts	
   995 					
   996 				;
   997 				; DLI
   998 				;
   999
  1000 B4F7			dli
  1001 B4F7 48				pha			;  Save registers
  1002 B4F8 8A				txa
  1003 B4F9 48				pha
  1004 B4FA 98				tya
  1005 B4FB 48				pha
  1006 					
  1007 B4FC AD 0B D4			lda vcount
  1008 B4FF 0A				asl
  1009 B500 C9 26			cmp #38
  1010 B502 B0 21			bcs dli1	; Is electron beam at row > 38?
  1011
  1012 					;
  1013 					; Set Chset and colors for score display
  1014 					;
  1015 					
  1016 B504 A9 44			lda #>chset	; No! Electron beam is at line # below 38
  1017 B506 8D 09 D4			sta $d409	; so we are still within our score display
  1018 B509 A9 05			lda #5		; Change colors for capital charcters (basic-)mode 1 or 2 	
  1019 B50B 8D 0A D4			sta wsync
  1020 B50E 8D 16 D0			sta colpf0s					
  1021 B511 A9 14			lda #20 	; Change colors for lower case characters in (basic)mode 1,2 or 0
  1022 B513 8D 17 D0			sta colpf1s
  1023 B516 A9 74			lda #116
  1024 B518 8D 18 D0			sta colpf2s
  1025 B51B A9 9B			lda #155
  1026 B51D 8D 19 D0			sta colpf3s
  1027 B520 A9 0E			lda #14		; Bright white for the background
  1028 B522 8D 1A D0			sta colbaks 	; End of screen area for score display
  1029
  1030 B525			dli1								
  1031 B525 AD 0B D4			lda vcount	; Is electron beam at row # bigger than 38?
  1032 B528 0A				asl			; No? So we are still in area of score display
  1033 B529 C9 26			cmp #38		; 
  1034 B52B 90 50			bcc dlout	; Do nothing!
  1035
  1036 					;
  1037 					; Set chset for playfield and playfield colors
  1038 					;
  1039 												
  1040 B52D A9 48			lda #>chset12 ; Electron beam has crossed row 38 that means
  1041 B52F 8D 09 D4			sta $d409	; we are in playfild area of our screen
  1042
  1043 B532 A9 C8			lda #200	; Color for bit combination: 10
  1044 B534 8D 17 D0			sta colpf1s									
  1045 B537 8D 0A D4			sta wsync
  1046 					
  1047 B53A A9 0E			lda #14		; Color for bit combination: 11
  1048 B53C 8D 18 D0			sta colpf2s
  1049 B53F 8D 0A D4			sta wsync
  1050 					
  1051 B542 A9 0A			lda #10		; Color for bit combination: 01	
  1052 B544 8D 16 D0			sta colpf0s									
  1053 B547 8D 0A D4			sta wsync
  1054
  1055 B54A A9 18			lda #24		; Color for bit combination=color 5 bit combination 11 (reverse character)
  1056 B54C 18				clc			; The only object on screen with that color is our flag that marks
  1057 B54D 6D CE AF			adc level	; the begining of the next level. We change that color every new
  1058 B550 8D 19 D0			sta colpf3s	; level to visualize that event :-)
  1059
  1060 					; Draw sky
  1061
  1062 B553 A2 0F			ldx #15		; Draw Background
  1063 B555 A9 7F			lda #127	; Bright blue
  1064 B557			dd1
  1065 B557 8D 0A D4			sta wsync	; Wait until scanline is finished
  1066 B55A 8D 1A D0			sta colbaks ; Init background color reg.
  1067 B55D A0 4B			ldy #75		; This determins the height of each color cycle
  1068 B55F			dd2
  1069 B55F 88				dey
  1070 B560 D0 FD			bne dd2
  1071 					
  1072 B562 38				sec			; Blue get's darker
  1073 B563 E9 01			sbc #1
  1074 B565 CA				dex			; Until we reach the lower third
  1075 B566 D0 EF			bne dd1		; of our playfield
  1076
  1077 					; Draw ground
  1078
  1079 B568 A2 0F			ldx #15		; Draw ground
  1080 B56A A9 C2			lda #194	; Start with dark green
  1081 B56C			dc1
  1082 B56C 8D 0A D4			sta wsync
  1083 B56F 8D 1A D0			sta colbaks
  1084 B572 A0 13			ldy #19
  1085 B574			dc2
  1086 B574 88				dey			; Height of each color cycle
  1087 B575 D0 FD			bne dc2
  1088 B577 18				clc
  1089 B578 69 01			adc #1
  1090 B57A CA				dex
  1091 B57B D0 EF			bne dc1
  1092 B57D			dlout
  1093 B57D 68				pla			; Get registers back
  1094 B57E A8				tay
  1095 B57F 68				pla
  1096 B580 AA				tax
  1097 B581 68				pla
  1098 					
  1099 B582 40				rti
  1100 				;
  1101 				; Show score
  1102 				; 
  1103 				; Call: 
  1104 				; delta= Amount of points to be added to current score
  1105 				;
  1106
  1107 B583			points
  1108 B583 10 10 10 10 10 10		.byte "000000"
  1109 B589			delta
  1110 B589 00				.byte 0	
  1111 B58A			xr5
  1112 B58A 00				.byte 0
  1113 B58B			yr5
  1114 B58B 00				.byte 0
  1115 					
  1116 B58C			score	
  1117 B58C 8E 8A B5			stx xr5
  1118 B58F 8C 8B B5			sty yr5
  1119
  1120 B592 20 A1 B5			jsr sl0
  1121 B595 CE 89 B5			dec delta
  1122 B598 D0 F2			bne score
  1123 					
  1124 B59A AE 8A B5			ldx xr5
  1125 B59D AC 8B B5			ldy yr5
  1126 					
  1127 B5A0 60				rts
  1128
  1129 B5A1			sl0
  1130 B5A1 A2 05			ldx #5
  1131
  1132 B5A3			sl1
  1133 B5A3 BD 83 B5			lda points,x	; Get figure
  1134 B5A6 C9 19			cmp #"9"       	; Is it "9"?
  1135 B5A8 D0 09			bne sl2			; no, increase it
  1136
  1137 B5AA A9 10			lda #"0"     	; Yes! set to zero
  1138 B5AC 9D 83 B5			sta points,X	; and get
  1139 B5AF CA				dex				; next
  1140 B5B0 D0 F1			bne sl1			; figure....
  1141
  1142 B5B2 60				rts
  1143
  1144 B5B3			sl2
  1145 B5B3 18				clc
  1146 B5B4 69 01			adc #1
  1147 B5B6 9D 83 B5			sta points,X
  1148 					
  1149 B5B9 60				rts
  1150 					
  1151 				;
  1152 				; Show score
  1153 				;
  1154
  1155 B5BA			showscor
  1156 B5BA 8E 8A B5			stx xr5			; Save registers
  1157 B5BD 8C 8B B5			sty yr5
  1158 B5C0 A0 07			ldy #7			; Number of digits
  1159 B5C2 A2 00			ldx #0
  1160 B5C4			ss
  1161 B5C4 BD 83 B5			lda points,x	; Output- loop
  1162 B5C7 99 D2 B8			sta scorelin,y
  1163 B5CA E8				inx
  1164 B5CB C8				iny
  1165 B5CC E0 07			cpx #7
  1166 B5CE D0 F4			bne ss
  1167 					
  1168 B5D0 AE 8A B5			ldx xr5
  1169 B5D3 AC 8B B5			ldy yr5
  1170 					
  1171 B5D6 60				rts
  1172
  1173 				;
  1174 				; CLSCORE
  1175 				; Clear score
  1176 				;
  1177
  1178 B5D7			clscor
  1179 B5D7 A2 00			ldx #0
  1180 B5D9			cl	
  1181 B5D9 A9 10			lda #16			;=0
  1182 B5DB 9D 83 B5			sta points,X
  1183 B5DE E8				inx
  1184 B5DF E0 06			cpx #6
  1185 B5E1 D0 F6			bne cl
  1186 B5E3 60				rts
  1187 					
  1188 				;
  1189 				; Little Dirty Debugger
  1190 				; Obsolete, game runs perfectly now :-)
  1191 				; Use this to show any parameter you want't 
  1192 				; It works fine as long it's not bigger than 16......
  1193 				;
  1194
  1195 B5E4			fig
  1196 B5E4 10 11 12 13 14 15 + 	.byte "0123456789ABVDEF"
  1197 					
  1198 B5F4			debug
  1199 B5F4 AE CE AF			ldx level
  1200 B5F7 BD E4 B5			lda fig,x
  1201 B5FA 8D D2 B8			sta scorelin
  1202 B5FD 60				rts
  1203 					
  1204 				;
  1205 				; Wait
  1206 				; Sometimes our code is to fast........
  1207 				;
  1208
  1209 B5FE			wtt
  1210 B5FE 48				pha				; Save registers
  1211 B5FF 8A				txa
  1212 B600 48				pha
  1213 B601 98				tya
  1214 B602 48				pha
  1215
  1216 B603 A2 1E			ldx #30
  1217 B605			ww0	
  1218 B605 A0 C3			ldy #195
  1219 B607			ww1	
  1220 B607 88				dey
  1221 B608 D0 FD			bne ww1
  1222 B60A CA				dex
  1223 B60B D0 F8			bne ww0
  1224 					
  1225 B60D 68				pla				; Get registers back
  1226 B60E A8				tay
  1227 B60F 68				pla
  1228 B610 AA				tax
  1229 B611 68				pla
  1230 					
  1231 B612 60				rts
  1232 					
  1233 				;
  1234 				; Antic program and contents of screen RAM for
  1235 				; our titel screen
  1236 				;
  1237
  1238 				; Some useful equates ;-)
  1239
  1240 = 0002			gr0		equ $02					; Gr. 0
  1241 = 0006			gr1		equ $06					; Gr. 1
  1242 = 0007			gr2		equ $07
  1243 = 0014			gr12	equ $14					; Gr. 12, horiz. scrolling enabeled
  1244
  1245 B613			dltitel							;Titel Screen
  1246 B613 70 70 70			.byte $70,$70,$70
  1247 B616 47 31 B6			.byte $40+gr2,a(titel)
  1248 B619 06 06 06		:3	.byte gr1
  1249 B61C 70 70 70 70 70	:5	.byte 112
  1250 					
  1251 B621 02 02 02 02 02 02 + :13	.byte gr0
  1252
  1253 B62E 41 13 B6			.byte $41,a(dltitel)
  1254 B631			titel
  1255 B631 00 00 22 2F 32 25 + 	.byte "  BORED OF FLOPPY   "
  1256 B645 00 00 00 00 00 00 + 	.byte "                    "
  1257 B659 00 00 00 70 72 65 + 	.byte "   press <start>    "
  1258 B66D 00 00 00 00 00 00 + 	.byte "                    "
  1259 					
  1260 B681 00 00 00 00 00 00 + 	.byte "           RetroZock 2014               "
  1261 B6A9 00 00 00 00 00 00 + 	.byte "          www.retrozock.com             "
  1262 B6D1 00 00 00 33 6F 75 + 	.byte "   Source code available at:GitHub      "
  1263 B6F9 00 00 00 00 00 00 + 	.byte "                                        "
  1264 B721 00 00 00 00 00 00 + 	.byte "                                        "
  1265 B749 00 00 00 00 00 00 + 	.byte "                                        "
  1266 B771 00 00 00 00 00 00 + 	.byte "                                        "
  1267 B799 00 00 00 00 00 00 + 	.byte "                                        "
  1268 B7C1 00 00 00 00 00 00 + 	.byte "                                        "
  1269 B7E9 00 00 00 00 00 00 + 	.byte "                                        "
  1270 B811 00 00 00 00 00 00 + 	.byte "                                        "
  1271 B839 00 00 00 00 00 00 + 	.byte "                                        "
  1272 B861 00 00 00 00 00 00 + 	.byte "                   V 1.0.6// 15.11.2014 "	
  1273 				;	
  1274 				; Antic program for our playfield
  1275 				;
  1276
  1277 = 00F6			bytes	equ 246							; Our playfield is 249 bytes wide
  1278
  1279 B889			dlgame						 	
  1280 B889 F0				.byte 112+128						; Start of Antic programm for our playfield			
  1281 B88A 70				.byte 112
  1282 B88B 46 D2 B8			.byte $40+gr1,a(scorelin)			; Gr.1 display. Tha's where we can see our score
  1283 B88E 70				.byte 112							; and other important messages.....
  1284 B88F			msg
  1285 B88F 46 E6 B8			.byte $40+gr1,a(message)			; Message line, tell the player what's going on
  1286
  1287 B892 F0				.byte $70+128						; 8 empty lines, start display- list interrupt
  1288 					
  1289 B893 54 88 13		z0	.byte $40+gr12,a(screen)			; Playfield row 0
  1290 B896 54 7E 14		z1	.byte $40+gr12,a(screen+1*bytes) 	
  1291 B899 54 74 15		z2	.byte $40+gr12,a(screen+2*bytes) 
  1292 B89C 54 6A 16		z3	.byte $40+gr12,a(screen+3*bytes) 
  1293 B89F 54 60 17		z4	.byte $40+gr12,a(screen+4*bytes)
  1294 B8A2 54 56 18		z5	.byte $40+gr12,a(screen+5*bytes)
  1295 B8A5 54 4C 19		z6	.byte $40+gr12,a(screen+6*bytes)
  1296 B8A8 54 42 1A		z7	.byte $40+gr12,a(screen+7*bytes)
  1297 B8AB 54 38 1B		z8	.byte $40+gr12,a(screen+8*bytes)
  1298 B8AE 54 2E 1C		z9	.byte $40+gr12,a(screen+9*bytes)
  1299 B8B1 54 24 1D		z10	.byte $40+gr12,a(screen+10*bytes)
  1300 B8B4 54 1A 1E		z11	.byte $40+gr12,a(screen+11*bytes)
  1301 B8B7 54 10 1F		z12	.byte $40+gr12,a(screen+12*bytes)
  1302 B8BA 54 06 20		z13	.byte $40+gr12,a(screen+13*bytes)
  1303 B8BD 54 FC 20		z14	.byte $40+gr12,a(screen+14*bytes)
  1304 B8C0 54 F2 21		z15	.byte $40+gr12,a(screen+15*bytes)
  1305 B8C3 54 E8 22		z16	.byte $40+gr12,a(screen+16*bytes) 
  1306 B8C6 54 DE 23		z17	.byte $40+gr12,a(screen+17*bytes)
  1307 B8C9 54 D4 24		z18	.byte $40+gr12,a(screen+18*bytes)
  1308 B8CC 54 CA 25		z19	.byte $40+gr12,a(screen+19*bytes)	; Row 20
  1309
  1310 B8CF 41 89 B8			.byte $41,a(dlgame)				 	; End of display- list, start all over again....
  1311 					
  1312 B8D2			scorelin								; Contents of screen ram for status display
  1313 B8D2 73 63 6F 72 65 00 + 	.byte "score               "
  1314 B8E6			message
  1315 B8E6 26 2C 39 00 2C 29 + 	.byte "FLY LITTLE BIRD..   "
  1316 B8FA			m1
  1317 B8FA 00 00 00 00 27 21 + 	.byte "    GAME OVER       "
  1318 					
  1319 				;
  1320 				; Charset data
  1321 				;
  1322 				; For: Text (Atari Basic-) text modes 0,1,2 
  1323 				;
  1324
  1325 B90E				 org $4400
  1326 4400			chset
  1327 					;------------------
  1328 				; Dump of:	ANTIK2.FNT
  1329
  1330 4400-4800> 00 00 00 00 + .byte	$00,$00,$00,$00,$00,$00,$00,$00,$38
  1331 4409 38 38 38 38 00 38 + .byte	$38,$38,$38,$38,$00,$38,$38,$66
  1332 4411 66 66 00 00 00 00 + .byte	$66,$66,$00,$00,$00,$00,$00,$00
  1333 4419 66 FF 66 66 FF 66 + .byte	$66,$ff,$66,$66,$ff,$66,$00,$18
  1334 4421 3E 60 3C 06 7C 18 + .byte	$3e,$60,$3c,$06,$7c,$18,$00,$00
  1335 4429 66 6C 18 30 66 46 + .byte	$66,$6c,$18,$30,$66,$46,$00,$1c
  1336 4431 36 1C 38 6F 66 3B + .byte	$36,$1c,$38,$6f,$66,$3b,$00,$00
  1337 4439 18 18 18 00 00 00 + .byte	$18,$18,$18,$00,$00,$00,$00,$06
  1338 4441 0E 1C 18 18 1C 0E + .byte	$0e,$1c,$18,$18,$1c,$0e,$06,$60
  1339 4449 70 38 18 18 38 70 + .byte	$70,$38,$18,$18,$38,$70,$60,$00
  1340 4451 66 3C FF 3C 66 00 + .byte	$66,$3c,$ff,$3c,$66,$00,$00,$00
  1341 4459 18 18 7E 18 18 00 + .byte	$18,$18,$7e,$18,$18,$00,$00,$00
  1342 4461 00 00 00 00 18 18 + .byte	$00,$00,$00,$00,$18,$18,$30,$00
  1343 4469 00 00 7E 00 00 00 + .byte	$00,$00,$7e,$00,$00,$00,$00,$00
  1344 4471 00 00 00 00 18 18 + .byte	$00,$00,$00,$00,$18,$18,$00,$00
  1345 4479 06 0C 18 30 60 40 + .byte	$06,$0c,$18,$30,$60,$40,$00,$7c
  1346 4481 CE C6 C6 C6 E6 7C + .byte	$ce,$c6,$c6,$c6,$e6,$7c,$00,$38
  1347 4489 38 18 18 18 18 18 + .byte	$38,$18,$18,$18,$18,$18,$00,$7c
  1348 4491 E6 0C 18 30 60 FE + .byte	$e6,$0c,$18,$30,$60,$fe,$00,$7e
  1349 4499 0C 18 0C 06 66 3C + .byte	$0c,$18,$0c,$06,$66,$3c,$00,$0c
  1350 44A1 1C 3C 6C CC FE 0C + .byte	$1c,$3c,$6c,$cc,$fe,$0c,$00,$7e
  1351 44A9 60 7C 06 06 66 3C + .byte	$60,$7c,$06,$06,$66,$3c,$00,$7c
  1352 44B1 C6 C0 FC CE E6 7C + .byte	$c6,$c0,$fc,$ce,$e6,$7c,$00,$7e
  1353 44B9 06 0C 18 30 30 30 + .byte	$06,$0c,$18,$30,$30,$30,$00,$7c
  1354 44C1 CE E6 7C CE E6 7C + .byte	$ce,$e6,$7c,$ce,$e6,$7c,$00,$7c
  1355 44C9 CE C6 E6 7E 0C 18 + .byte	$ce,$c6,$e6,$7e,$0c,$18,$30,$00
  1356 44D1 38 38 00 00 38 38 + .byte	$38,$38,$00,$00,$38,$38,$00,$00
  1357 44D9 00 18 18 00 18 18 + .byte	$00,$18,$18,$00,$18,$18,$30,$06
  1358 44E1 0C 18 30 18 0C 06 + .byte	$0c,$18,$30,$18,$0c,$06,$00,$00
  1359 44E9 00 7E 00 00 7E 00 + .byte	$00,$7e,$00,$00,$7e,$00,$00,$60
  1360 44F1 30 18 0C 18 30 60 + .byte	$30,$18,$0c,$18,$30,$60,$00,$3c
  1361 44F9 66 66 0C 18 00 18 + .byte	$66,$66,$0c,$18,$00,$18,$00,$6a
  1362 4501 C9 00 7E 00 93 56 + .byte	$c9,$00,$7e,$00,$93,$56,$00,$7a
  1363 4509 9C 34 36 3E 66 66 + .byte	$9c,$34,$36,$3e,$66,$66,$c3,$ee
  1364 4511 73 6B 6B 7E 6B 6B + .byte	$73,$6b,$6b,$7e,$6b,$6b,$de,$3d
  1365 4519 66 D4 D0 D0 D0 E6 + .byte	$66,$d4,$d0,$d0,$d0,$e6,$7c,$ee
  1366 4521 73 6B 6B 6B 6B 63 + .byte	$73,$6b,$6b,$6b,$6b,$63,$de,$fe
  1367 4529 66 60 78 60 63 66 + .byte	$66,$60,$78,$60,$63,$66,$7c,$fe
  1368 4531 66 60 78 60 60 68 + .byte	$66,$60,$78,$60,$60,$68,$70,$3d
  1369 4539 66 D6 D0 DE D6 66 + .byte	$66,$d6,$d0,$de,$d6,$66,$3c,$c7
  1370 4541 C6 C6 CE FE E6 C6 + .byte	$c6,$c6,$ce,$fe,$e6,$c6,$ce,$34
  1371 4549 18 18 18 18 18 1C + .byte	$18,$18,$18,$18,$18,$1c,$2c,$7f
  1372 4551 16 16 56 06 DE 7C + .byte	$16,$16,$56,$06,$de,$7c,$78,$c6
  1373 4559 6D 6C 78 78 6C 6C + .byte	$6d,$6c,$78,$78,$6c,$6c,$c6,$e0
  1374 4561 60 60 60 61 66 7E + .byte	$60,$60,$60,$61,$66,$7e,$78,$c6
  1375 4569 EE FE D6 C6 C6 C6 + .byte	$ee,$fe,$d6,$c6,$c6,$c6,$c6,$c6
  1376 4571 C6 E6 F6 DE CE C6 + .byte	$c6,$e6,$f6,$de,$ce,$c6,$c6,$7d
  1377 4579 CE D6 D6 D6 D6 E6 + .byte	$ce,$d6,$d6,$d6,$d6,$e6,$7c,$fc
  1378 4581 66 6E 66 6D 60 60 + .byte	$66,$6e,$66,$6d,$60,$60,$c0,$7d
  1379 4589 E6 D6 D6 D6 D6 CE + .byte	$e6,$d6,$d6,$d6,$d6,$ce,$7f,$dd
  1380 4591 66 6E 66 7C 6C 66 + .byte	$66,$6e,$66,$7c,$6c,$66,$e3,$ba
  1381 4599 66 60 3C 06 46 66 + .byte	$66,$60,$3c,$06,$46,$66,$5c,$fe
  1382 45A1 30 68 68 62 6C 74 + .byte	$30,$68,$68,$62,$6c,$74,$3c,$e6
  1383 45A9 66 66 66 66 6E 6E + .byte	$66,$66,$66,$66,$6e,$6e,$3f,$c3
  1384 45B1 66 66 66 66 66 3D + .byte	$66,$66,$66,$66,$66,$3d,$18,$e3
  1385 45B9 C3 C3 D3 CB DF 77 + .byte	$c3,$c3,$d3,$cb,$df,$77,$62,$c0
  1386 45C1 C3 66 3C 3C 66 C3 + .byte	$c3,$66,$3c,$3c,$66,$c3,$03,$c3
  1387 45C9 66 66 3C 5A 18 18 + .byte	$66,$66,$3c,$5a,$18,$18,$18,$7e
  1388 45D1 C6 0C 38 7C 60 C3 + .byte	$c6,$0c,$38,$7c,$60,$c3,$fe,$00
  1389 45D9 1E 18 18 18 18 1E + .byte	$1e,$18,$18,$18,$18,$1e,$00,$00
  1390 45E1 40 60 30 18 0C 06 + .byte	$40,$60,$30,$18,$0c,$06,$00,$00
  1391 45E9 78 18 18 18 18 78 + .byte	$78,$18,$18,$18,$18,$78,$00,$00
  1392 45F1 08 1C 36 63 00 00 + .byte	$08,$1c,$36,$63,$00,$00,$00,$00
  1393 45F9 00 00 00 00 00 FF + .byte	$00,$00,$00,$00,$00,$ff,$00,$00
  1394 4601 36 7F 7F 3E 1C 08 + .byte	$36,$7f,$7f,$3e,$1c,$08,$00,$18
  1395 4609 18 0C 07 07 0C 18 + .byte	$18,$0c,$07,$07,$0c,$18,$18,$03
  1396 4611 03 03 03 03 03 03 + .byte	$03,$03,$03,$03,$03,$03,$03,$18
  1397 4619 18 38 F0 E0 00 00 + .byte	$18,$38,$f0,$e0,$00,$00,$00,$18
  1398 4621 18 30 E0 E0 30 18 + .byte	$18,$30,$e0,$e0,$30,$18,$18,$00
  1399 4629 00 00 C0 E0 30 18 + .byte	$00,$00,$c0,$e0,$30,$18,$18,$03
  1400 4631 07 0E 1C 38 70 E0 + .byte	$07,$0e,$1c,$38,$70,$e0,$c0,$c0
  1401 4639 E0 70 38 1C 0E 07 + .byte	$e0,$70,$38,$1c,$0e,$07,$03,$01
  1402 4641 03 07 0F 1F 3F 7F + .byte	$03,$07,$0f,$1f,$3f,$7f,$ff,$00
  1403 4649 00 00 00 0F 0F 0F + .byte	$00,$00,$00,$0f,$0f,$0f,$0f,$80
  1404 4651 C0 E0 F0 F8 FC FE + .byte	$c0,$e0,$f0,$f8,$fc,$fe,$ff,$0f
  1405 4659 0F 0F 0F 00 00 00 + .byte	$0f,$0f,$0f,$00,$00,$00,$00,$f0
  1406 4661 F0 F0 F0 00 00 00 + .byte	$f0,$f0,$f0,$00,$00,$00,$00,$ff
  1407 4669 FF 00 00 00 00 00 + .byte	$ff,$00,$00,$00,$00,$00,$00,$00
  1408 4671 00 00 00 00 00 FF + .byte	$00,$00,$00,$00,$00,$ff,$ff,$00
  1409 4679 00 00 00 F0 F0 F0 + .byte	$00,$00,$00,$f0,$f0,$f0,$f0,$00
  1410 4681 00 1C 1C 77 77 08 + .byte	$00,$1c,$1c,$77,$77,$08,$1c,$00
  1411 4689 00 00 03 07 0C 18 + .byte	$00,$00,$03,$07,$0c,$18,$18,$00
  1412 4691 00 00 FF FF 00 00 + .byte	$00,$00,$ff,$ff,$00,$00,$00,$18
  1413 4699 18 18 FF FF 18 18 + .byte	$18,$18,$ff,$ff,$18,$18,$18,$00
  1414 46A1 00 3C 7E 7E 7E 3C + .byte	$00,$3c,$7e,$7e,$7e,$3c,$00,$00
  1415 46A9 00 00 00 FF FF FF + .byte	$00,$00,$00,$ff,$ff,$ff,$ff,$c0
  1416 46B1 C0 C0 C0 C0 C0 C0 + .byte	$c0,$c0,$c0,$c0,$c0,$c0,$c0,$00
  1417 46B9 00 00 C3 E7 3C 18 + .byte	$00,$00,$c3,$e7,$3c,$18,$18,$18
  1418 46C1 18 3C E7 C3 00 00 + .byte	$18,$3c,$e7,$c3,$00,$00,$00,$f0
  1419 46C9 F0 F0 F0 F0 F0 F0 + .byte	$f0,$f0,$f0,$f0,$f0,$f0,$f0,$18
  1420 46D1 18 0C 07 03 00 00 + .byte	$18,$0c,$07,$03,$00,$00,$00,$78
  1421 46D9 60 78 60 7E 18 1E + .byte	$60,$78,$60,$7e,$18,$1e,$00,$00
  1422 46E1 18 3C 7E 18 18 18 + .byte	$18,$3c,$7e,$18,$18,$18,$00,$00
  1423 46E9 18 18 18 7E 3C 18 + .byte	$18,$18,$18,$7e,$3c,$18,$00,$00
  1424 46F1 18 30 7E 30 18 00 + .byte	$18,$30,$7e,$30,$18,$00,$00,$00
  1425 46F9 18 0C 7E 0C 18 00 + .byte	$18,$0c,$7e,$0c,$18,$00,$00,$18
  1426 4701 3C 66 C3 18 3C 66 + .byte	$3c,$66,$c3,$18,$3c,$66,$c3,$00
  1427 4709 40 3E 66 66 66 3B + .byte	$40,$3e,$66,$66,$66,$3b,$40,$30
  1428 4711 60 62 7C 66 66 7C + .byte	$60,$62,$7c,$66,$66,$7c,$02,$00
  1429 4719 40 3C 76 60 66 3C + .byte	$40,$3c,$76,$60,$66,$3c,$40,$0c
  1430 4721 06 46 3E 66 66 3A + .byte	$06,$46,$3e,$66,$66,$3a,$40,$00
  1431 4729 40 3C 66 7E 60 38 + .byte	$40,$3c,$66,$7e,$60,$38,$04,$2e
  1432 4731 18 18 18 3E 18 18 + .byte	$18,$18,$18,$3e,$18,$18,$00,$00
  1433 4739 86 7C CC CC 78 C2 + .byte	$86,$7c,$cc,$cc,$78,$c2,$7c,$c0
  1434 4741 60 62 6C 76 66 66 + .byte	$60,$62,$6c,$76,$66,$66,$00,$30
  1435 4749 00 18 0C 0C 0C 0E + .byte	$00,$18,$0c,$0c,$0c,$0e,$00,$0c
  1436 4751 00 0C 0C 0C 0C 18 + .byte	$00,$0c,$0c,$0c,$0c,$18,$38,$00
  1437 4759 C0 66 6C 78 6C E6 + .byte	$c0,$66,$6c,$78,$6c,$e6,$00,$30
  1438 4761 18 18 18 18 18 0C + .byte	$18,$18,$18,$18,$18,$0c,$00,$00
  1439 4769 C0 66 7E 7E 6A 63 + .byte	$c0,$66,$7e,$7e,$6a,$63,$00,$00
  1440 4771 E2 7C 66 66 66 63 + .byte	$e2,$7c,$66,$66,$66,$63,$00,$00
  1441 4779 40 3C 6E 66 76 3C + .byte	$40,$3c,$6e,$66,$76,$3c,$40,$00
  1442 4781 C2 7C 66 66 7C 62 + .byte	$c2,$7c,$66,$66,$7c,$62,$e0,$00
  1443 4789 40 3B 66 66 3E 46 + .byte	$40,$3b,$66,$66,$3e,$46,$07,$00
  1444 4791 E0 7C 76 60 60 60 + .byte	$e0,$7c,$76,$60,$60,$60,$00,$00
  1445 4799 40 3E 70 3C 8E 7C + .byte	$40,$3e,$70,$3c,$8e,$7c,$02,$30
  1446 47A1 30 7E 30 30 30 36 + .byte	$30,$7e,$30,$30,$30,$36,$1c,$00
  1447 47A9 01 E6 66 66 6E 3B + .byte	$01,$e6,$66,$66,$6e,$3b,$00,$00
  1448 47B1 0D E6 66 66 3C 18 + .byte	$0d,$e6,$66,$66,$3c,$18,$00,$00
  1449 47B9 00 E3 6B 7F 3E 36 + .byte	$00,$e3,$6b,$7f,$3e,$36,$00,$00
  1450 47C1 C0 66 3C 18 3C 66 + .byte	$c0,$66,$3c,$18,$3c,$66,$03,$00
  1451 47C9 00 E6 66 66 3E CC + .byte	$00,$e6,$66,$66,$3e,$cc,$78,$00
  1452 47D1 00 7E 0C 7E 30 7E + .byte	$00,$7e,$0c,$7e,$30,$7e,$00,$00
  1453 47D9 18 3C 7E 7E 18 3C + .byte	$18,$3c,$7e,$7e,$18,$3c,$00,$18
  1454 47E1 18 18 18 18 18 18 + .byte	$18,$18,$18,$18,$18,$18,$18,$00
  1455 47E9 7E 78 7C 6E 66 06 + .byte	$7e,$78,$7c,$6e,$66,$06,$00,$08
  1456 47F1 18 38 78 38 18 08 + .byte	$18,$38,$78,$38,$18,$08,$00,$00
  1457 47F9 00 00 FF 7E 3C 18 + .byte	$00,$00,$ff,$7e,$3c,$18,$00,$01
  1458 					
  1459 				;
  1460 				; Charset data
  1461 				;
  1462 				; For: Text (Atari Basic-) text modes 12 and 13 
  1463 				;
  1464 				; They are not ordered :(
  1465 				;
  1466
  1467 4801					org $4800														
  1468 						
  1469 4800			chset12
  1470 4800-4B8B> 00 00 00 00 + :8		.byte 0																; Empty						//0
  1471 4808 7F 7F 7F 1F 1F 07 +  		.byte 127,127,127,31,31,7,7,1										; Cloud tile 1, bottom left //1
  1472 4810 FF 7D 14 00 00 00 + 		.byte 255,125,20,0,0,0,0,0											; Cloud tile bottom			//2
  1473 4818 00 00 14 7D FF FF + 		.byte 0	,	0	,	20	,	125	,	255	,	255	,	255	,	255		; Cloud tile top			//3
  1474 4820 FD FD F4 F4 D0 D0 + 		.byte 253	,	253	,	244	,	244	,	208	,	208	,	64	,	64  ; Cloud tile, bottom right	//4
  1475 4828 FF FF FF FF FF FF + :8		.byte 255															; Cloud tile, solid block	//5
  1476
  1477 4830 55 55 55 55 55 55 + :8		.byte 85															; Solid black block			//6		
  1478 4838 55 55 55 55 55 65 + 		.byte 85	,	85	,	85	,	85	,	85	,	101	,	166	,	170 ; Solid black block, bottom //7
  1479
  1480 4840 BB BB BB BB BB BB + :8		.byte 187													        ; Light green block 		//8
  1481 4848 BA BA BA BA BA BA + 		.byte 186	,	186	,	186	,	186	,	186	,	186	,	186	,	186	; Not so light green block  //9
  1482 4850 AE AE AE AE AE AE + :8		.byte 174															; Solid green block			//10
  1483 4858 AB AB AB AB AB AB + :8		.byte 171															; Solid green block			//11
  1484 4860 40 40 40 40 40 40 + :8		.byte 64															; Flag pole 				//12
  1485 4868 4C 7F 7F 7F 7F 7F + 	    .byte 76	,	127	,	127	,	127	,	127	,	127	,	127	,	76  ; Flag part 	1			//13
  1486 4870 CF FF FC FC FC FC + 		.byte 207	,	255	,	252	,	252	,	252	,	252	,	255	,	207 ; Flag Part 	2			//14
  1487 4878 55 55 41 41 41 55 + 		.byte 85	,	85	,	65	,	65	,	65	,	85	,	85	,	85  ; Building part with window //15
  1488 					
  1489 				;
  1490 				; A poem
  1491 				;
  1492
  1493 4880			poem
  1494 4880 6F 68 00 68 61 76 + 	.byte "oh have i surely...."
  1495 4894 0E 0E 73 6C 69 70 + 	.byte "..slipped the bonds."
  1496 48A8 0E 0E 6F 66 00 65 + 	.byte "..of earth and...   "
  1497 48BC 64 61 6E 63 65 64 + 	.byte "danced the skies...."
  1498 48D0 6F 6E 00 6C 61 75 + 	.byte "on laughter silvered"
  1499 48E4 77 69 6E 67 73 00 + 	.byte "wings               "
  1500 48F8 73 75 6E 77 61 72 + 	.byte "sunward i climbed   "
  1501 490C 61 6E 64 00 6A 6F + 	.byte "and joined the      "	
  1502 4920 74 75 6D 62 65 6C + 	.byte "tumbeling mirth     "
  1503 4934 6F 66 00 73 75 6E + 	.byte "of sun splid clouds "
  1504 4948 61 6E 64 00 64 6F + 	.byte "and done hundred    "
  1505 495C 74 68 69 6E 67 73 + 	.byte "things you have not "
  1506 4970 64 72 65 61 6D 65 + 	.byte "dreamed of --       "
  1507 4984 77 68 65 65 6C 65 + 	.byte "wheeled and soared  "
  1508 4998 61 6E 64 00 73 77 + 	.byte "and swung high in   "
  1509 49AC 74 68 65 00 73 75 + 	.byte "the sunlit silence  "
  1510 49C0 68 6F 76 07 72 69 + 	.byte "hov'ring there      "
  1511 49D4 69 00 63 68 61 73 + 	.byte "i chased the        "
  1512 49E8 73 6F 75 74 69 6E + 	.byte "souting wind        "
  1513 49FC 61 6C 6F 6E 67 00 + 	.byte "along and flung     "
  1514 4A10 6D 79 00 65 61 67 + 	.byte "my eager craft      "
  1515 4A24 74 68 72 6F 67 68 + 	.byte "throgh footless     "
  1516 4A38 68 61 6C 6C 73 00 + 	.byte "halls of air.       "
  1517 4A4C 75 70 00 75 70 00 + 	.byte "up up the long      "
  1518 4A60 64 65 6C 69 72 69 + 	.byte "delirious burning   "
  1519 4A74 62 6C 75 65 0E 0E + 	.byte "blue........        "
  1520 4A88 69 07 76 65 00 74 + 	.byte "i've topped the     "
  1521 4A9C 77 69 6E 64 73 77 + 	.byte "windswept heights   "
  1522 4AB0 77 69 74 68 00 65 + 	.byte "with easy grace     "
  1523 4AC4 77 68 65 72 65 00 + 	.byte "where never lark or "
  1524 4AD8 65 76 65 6E 00 65 + 	.byte "even eagle flew.    "
  1525 4AEC 61 6E 64 00 77 68 + 	.byte "and while, with     "
  1526 4B00 77 69 74 68 00 73 + 	.byte "with silent lifting "
  1527 4B14 6D 69 6E 64 00 69 + 	.byte "mind i've trod the  "
  1528 4B28 68 65 69 67 68 00 + 	.byte "heigh untresspassed "
  1529 4B3C 63 61 6E 63 74 69 + 	.byte "canctity of space   "
  1530 4B50 70 75 74 00 6F 75 + 	.byte "put out my hand and "
  1531 4B64 74 6F 75 63 65 64 + 	.byte "touced the dface   "
  1532 4B78 6F 66 00 67 6F 64 + 	.byte "of god.             "    		
  1533 											
  1534 				;
  1535 				; Screen- ram of playfield
  1536 				;
  1537 4B8C						org 5000
  1538 1388-1388> 00		screen	.byte 0
  1539
  1540
  1541
  1542
  1543
  1544
  1545
  1546 					
  1547 					
  1548
